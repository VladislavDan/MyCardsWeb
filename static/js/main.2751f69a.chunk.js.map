{"version":3,"sources":["app/types/IRangeOfKnowledge.ts","app/common/Routs.ts","app/parts/toolbar/ToolbarService.tsx","app/parts/toolbar/ToolbarComponent.tsx","MyTools/channel-conception/logic/jsonEqual.ts","MyTools/worker-observable/operators/fromThread.ts","MyTools/worker-observable/logic/functionToThread.ts","MyTools/channel-conception/Channel.ts","app/parts/navigation-panel/NavigationPanelService.ts","app/parts/toolbar/ToolbarContainer.tsx","app/parts/navigation-panel/elements/navigation-link-component/NavigationLinkComponent.tsx","app/parts/navigation-panel/NavigationPanelComponent.tsx","MyTools/channel-conception/react-hooks/useChannel.ts","app/parts/navigation-panel/NavigationPanelContainer.tsx","app/parts/error-container/ErrorComponent.tsx","app/parts/error-container/ErrorContainer.tsx","app/parts/spinner/SpinnerComponent.tsx","app/parts/spinner/SpinnerContainer.tsx","app/common/Constants.ts","app/parts/confirm-dialog/ConfirmDialogComponent.tsx","app/parts/confirm-dialog/ConfirmDialogContainer.tsx","app/common/elements/add-button/AddButton.tsx","app/pages/cards-groups-list/elements/circular-progress/CircularProgressComponent.tsx","app/common/elements/list-item-menu/ListItemMenuComponent.tsx","app/pages/cards-groups-list/elements/cards-groups-list-item/CardsGroupsListItemComponent.tsx","app/pages/cards-groups-list/CardsGroupsListComponent.tsx","MyTools/react-hooks/useConstructor.ts","MyTools/react-hooks/useUnsubscribe.ts","app/pages/cards-groups-list/CardsGroupsListContainer.tsx","app/pages/google-auth/GoogleAuthComponent.tsx","app/pages/google-auth/GoogleAuthContainer.tsx","app/pages/google-backups/elements/backup-menu-component/BackupMenuComponent.tsx","app/pages/google-backups/elements/backups-list-item-component/BackupsListItemComponent.tsx","app/pages/google-backups/BackupsListComponent.tsx","app/pages/google-backups/GoogleBackupsContainer.tsx","app/types/ISortVariants.ts","app/pages/cards-list/elements/cards-list-item/CardsListItemComponent.tsx","app/pages/cards-list/elements/filter/FilterComponent.tsx","app/pages/cards-list/elements/cards-list-actions/CardsListActions.tsx","app/pages/cards-list/CardsListComponent.tsx","app/pages/cards-list/CardsListContainer.tsx","app/pages/cards-repeater/elements/statistic/StatisticComponent.tsx","app/common/elements/answer-card-footer/AnswerCardFooterComponent.tsx","app/common/elements/text-editor/TextEditorComponent.tsx","app/common/elements/answer-card/AnswerCardComponent.tsx","app/common/elements/cards-header/CardsHeaderComponent.tsx","app/pages/cards-repeater/elements/all-cards-repeated/AllCardsRepeatedComponent.tsx","app/common/elements/question-card/QuestionCardComponent.tsx","app/pages/cards-repeater/CardsRepeaterComponent.tsx","app/common/logic/initDefaultCard.ts","app/pages/cards-repeater/CardsRepeaterContainer.tsx","app/pages/local-backup/LocalBackupsContainer.tsx","app/pages/cards-groups-editor/CardsGroupsEditorComponent.tsx","app/pages/cards-groups-editor/CardsGroupsEditorContainer.tsx","app/pages/cards-editor/CardsEditorComponent.tsx","app/pages/cards-editor/CardsEditorContainer.tsx","app/pages/settings/SettingsComponent.tsx","app/pages/settings/SettingsContainer.tsx","app/pages/card-viewer/CardViewerComponent.tsx","app/pages/card-viewer/CardViewerContainer.tsx","app/parts/navigation/NavigationContainer.tsx","app/pages/google-backups/GoogleBackupsService.ts","app/pages/google-backups/logic/formatCreatedDate.ts","app/common/services/StorageService.ts","app/pages/cards-repeater/logic/getCardsByGroupID.ts","app/common/logic/changeRangeOfKnowledge.ts","app/pages/cards-repeater/logic/getCardForRepeating.ts","app/pages/cards-repeater/logic/getStatistic.ts","app/pages/cards-repeater/logic/shuffleCards.ts","app/pages/cards-repeater/logic/getFirstCard.ts","app/pages/card-viewer/logic/getCardForViewing.ts","App.tsx","app/parts/error-container/ErrorService.ts","app/parts/spinner/SpinnerService.ts","app/parts/confirm-dialog/ConfirmDialogService.ts","app/common/services/DataBaseService.ts","app/pages/cards-groups-editor/CardsGroupsEditorService.ts","app/pages/cards-groups-editor/logic/saveCardsGroup.ts","app/pages/cards-groups-editor/logic/getEditingCardsGroup.ts","app/pages/cards-groups-list/CardsGroupsListService.ts","app/pages/cards-groups-list/logic/updateRepeatingDate.ts","app/pages/cards-groups-list/logic/sortByRepeatingDate.ts","app/pages/cards-groups-list/logic/countRepeatedCardsPercent.ts","app/pages/cards-groups-list/logic/deleteGroup.ts","app/pages/cards-groups-list/logic/resetRepeatingProgress.ts","app/pages/google-auth/GoogleAuthService.ts","app/pages/cards-editor/CardsEditorService.ts","app/pages/cards-editor/logic/saveCard.ts","app/pages/cards-editor/logic/getEditingCard.ts","app/pages/cards-editor/logic/getSimplifiedGroup.ts","app/pages/cards-editor/logic/addCurrentGroupToSimplifiedGroup.ts","app/pages/cards-list/CardsListService.ts","app/pages/cards-list/logic/getCardsByGroup.ts","app/pages/cards-list/logic/filterCards.ts","app/pages/cards-list/logic/resetCardProgress.ts","app/pages/cards-list/logic/deleteCard.ts","app/pages/cards-repeater/CardsRepeaterService.ts","app/pages/local-backup/LocalBackupsService.ts","app/pages/local-backup/logic/saveBackupFile.ts","app/pages/settings/SettingsService.ts","app/pages/card-viewer/CardViewerService.tsx","reportWebVitals.ts","index.tsx"],"names":["IRangeOfKnowledge","Routs","path","name","toolbarManager","ToolbarComponent","pageLabel","onClick","AppBar","position","Toolbar","className","IconButton","edge","color","Typography","variant","jsonEqual","args","value","other","JSON","stringify","fromThread","arg","workerFunction","thread","functionString","toString","functionBlob","Blob","type","Worker","URL","createObjectURL","functionToThread","Observable","observer","postMessage","onmessage","event","next","data","terminate","complete","onerror","err","error","Channel","observableCreator","outputSubject","subscriptions","previousEmittedValue","this","Subject","push","subscribe","customErrorHandler","deepEqual","outputSubjectSubscription","console","subscription","result","equalityError","forEach","subscribtion","closed","unsubscribe","navigationPanelService","navigationPanelOpenChannel","of","ToolbarContainer","location","useLocation","useState","setPageLabel","useEffect","newPageLabel","getPageLabel","pathname","NavigationLinkComponent","toggleDrawer","ListItem","button","to","NavigationPanelComponent","isOpen","SwipeableDrawer","anchor","open","onClose","onOpen","List","useChannel","channel","additionalErrorHandler","useRef","current","NavigationPanelContainer","state","setState","nativeEvent","key","ErrorComponent","errorMessage","handleClose","Dialog","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Button","ErrorContainer","errorService","errorChannel","SpinnerComponent","isShow","LinearProgress","SpinnerContainer","spinnerService","setShowing","spinnerCounterChannel","spinnerCounter","defaultAppState","height","width","updateContext","DATE_FORMAT","ConfirmDialogComponent","onClickAgree","onClickDisagree","message","autoFocus","ConfirmDialogContainer","confirmDialogService","React","openDialogChannel","confirmationChannel","AddButton","Fab","size","CircularProgressComponent","percent","Box","display","CircularProgress","top","left","bottom","right","alignItems","justifyContent","component","Math","round","ListItemMenuComponent","onEdit","onDelete","onResetProgress","anchorEl","setAnchorEl","keepMounted","Boolean","MenuItem","currentTarget","CardsGroupsListItemComponent","cardsGroup","onClickItem","onEditItem","onDeleteItem","ListItemIcon","percentRepeatedCards","ListItemText","primary","nameCardsGroup","secondary","format","repeatingDate","Date","CardsGroupsListComponent","cardsGroups","onOpenEditor","itemData","itemSize","itemCount","length","overscanCount","index","style","cardGroup","useConstructor","callback","isFirstRun","useUnsubscribe","setSubscription","CardsGroupsListContainer","cardsGroupsListService","history","useHistory","context","useContext","AppContext","groupsListChannel","groupDeleteChannel","resetProgressChannel","cardsGroupID","isConfirm","GoogleAuthComponent","onSuccess","onFailure","clientId","buttonText","scope","GoogleAuthContainer","googleAuthService","loginChannel","replace","response","accessToken","BackupMenuComponent","backupID","onLoad","BackupsListItemComponent","backupName","BackupsListComponent","backupsFiles","onCreate","map","backup","createdTime","GoogleBackupsContainer","googleBackupsService","backupsNameLoadChannel","backupLoadChannel","backupDeleteChannel","backupUploadChannel","ISortVariants","CardsListItemComponent","card","isEnabledSelecting","onSelect","isSelected","rangeOfKnowledge","DONE","IN_PROGRESS","getIconColor","question","dateRepeating","Checkbox","checked","tabIndex","disableRipple","FilterComponent","onChangeSearchableText","filter","onChangeSorting","Accordion","AccordionSummary","expandIcon","TextField","required","placeholder","onChange","target","marginRight","stopPropagation","preventDefault","AccordionDetails","Select","sort","label","NONE","QUESTION_ASK","QUESTION_DESK","STATUS_ASK","STATUS_DESK","CardsListActions","onOpenRepeater","onStartSelecting","CardsListComponent","cards","CardsListContainer","cardsListService","searchableText","cardsChannel","prevState","resetCardProgressChannel","deleteCardChannel","sortVariant","newFilter","cardID","StatisticComponent","statistic","todo","inProgress","done","AnswerCardFooterComponent","CardActions","TextEditorComponent","onChangeText","changeableText","multiline","AnswerCardComponent","cardHeight","onClickText","isEditable","onChangeAnswer","getText","answer","Card","CardContent","paddingTop","overflow","whiteSpace","gutterBottom","CardsHeaderComponent","isQuestionSide","onSwitchEditing","Check","Edit","AllCardsRepeatedComponent","onBackClick","QuestionCardComponent","onClickCard","onChangeQuestion","CardsRepeaterComponent","initDefaultCard","getTime","CardRepeaterContainer","cardsRepeaterService","cardsEditorService","undefined","setStatistic","cardChannel","statisticChannel","cardEditingChannel","currentCardChannel","repeatingResultChannel","isKnown","editableCard","LocalBackupsContainer","localBackupsService","fileBuffer","localBackupChannel","loadBackupChannel","file","files","reader","FileReader","onload","readerEvent","games","readAsText","ref","CardsGroupsEditorComponent","groupName","onChangeGroupName","onSaveGroup","CardsGroupsEditorContainer","cardsGroupsEditorService","groupEditingChannel","goBack","groupChannel","CardsEditorComponent","onSaveCard","currentCardsGroup","onChangeCardsGroup","labelId","Number","autoWidth","CardsEditorContainer","simplifiedCardsGroupsChannel","newState","SettingsComponent","settings","FormGroup","FormControlLabel","control","Switch","isRandomRepeating","SettingsContainer","settingsService","changeSettingsChannel","settingsChannel","CardViewerComponent","CardViewerContainer","cardViewerService","NavigationContainer","exact","from","GoogleBackupsService","storageService","backupFileName","backupFolderName","googleDriveFilesAPI","googleDriveUploadAPI","searchFilesURI","searchFolderURI","getFilesAdditionalPartURI","googleDriveFolderType","pipe","switchMap","getAuthToken","authToken","getBackupFiles","googleDriveFiles","googleDriveFile","slice","formatCreatedDate","loadBackupFile","createNewBackup","fileID","deleteBackupFile","tap","getBackupFolder","folders","foundedFolder","find","mimeType","createBackupFolder","folderId","createNewBackupFile","fileId","uploadBackupFile","token","ajax","url","headers","method","setBackup","body","parents","getBackup","responseType","StorageService","dataBaseService","cardsStorageID","authTokenLocalStorageID","settingsID","getBackupFromDataBase","a","get","setBackupToDataBase","set","Promise","resolve","reject","localStorage","getItem","setItem","parse","getCardsByGroupID","foundCardsGroup","foundCards","changeRangeOfKnowledge","TO_DO","getCardForRepeating","foundCard","getStatistic","statisticValue","shuffleCards","array","randomIndex","copy","floor","random","getFirstCard","getCardForViewing","i","findIndex","createContext","difference","storeName","dataBase","DATA_BASE_NAME","put","openDB","upgrade","db","createObjectStore","editedCardGroup","cardGroupIndex","saveCardsGroup","cardGroupID","getEditingCardsGroup","updateRepeatingDate","firstCardGroup","secondCardsGroup","sortByRepeatingDate","statusDone","countRepeatedCardsPercent","groupID","deleteGroup","resetRepeatingProgress","setAuthToken","cardIndex","item","saveCard","getEditingCard","getSimplifiedGroup","addCurrentGroupToSimplifiedGroup","getCardsByGroup","foundByTextCards","toLowerCase","indexOf","card1","card2","filterCards","resetCardProgress","deleteCard","getSettings","isRundomRepeating","fileData","blob","window","document","createElement","href","download","click","revokeObjectURL","saveBackupFile","backupFile","settingService","setSettings","App","appState","setAppState","screen","Provider","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.2751f69a.chunk.js","sourcesContent":["export enum IRangeOfKnowledge {\n    TO_DO,\n    IN_PROGRESS,\n    DONE\n}\n","export const Routs = {\n    googleAuth: {\n        path: '/google-auth',\n        name: 'Auth Google'\n    },\n\n    googleBackups: {\n        path: '/google-backups',\n        name: 'Google Backups'\n    },\n\n    cardsGroups: {\n        path: '/cards-groups',\n        name: 'Cards Groups'\n    },\n\n    cards: {\n        path: '/cards-list',\n        name: 'Cards'\n    },\n\n    cardsRepeater: {\n        path: '/cards-repeater',\n        name: 'Repeat Card'\n    },\n\n    cardsEditor: {\n        path: '/cards-editor',\n        name: 'Edit Card'\n    },\n\n    localBackups: {\n        path: '/local-backups',\n        name: 'Local Backups'\n    },\n\n    cardsGroupEditor: {\n        path: '/cards-group-editor',\n        name: 'Edit Group'\n    },\n\n    settings: {\n        path: '/settings',\n        name: 'Settings'\n    },\n\n    cardViewer: {\n        path: '/card-viewer',\n        name: 'Card Preview'\n    }\n};\n","import {Routs} from '../../common/Routs';\n\nclass ToolbarService {\n\n    public getPageLabel(path: string) {\n        if(path === Routs.googleAuth.path) {\n            return Routs.googleAuth.name;\n        }\n\n        if(path === Routs.googleBackups.path) {\n            return Routs.googleBackups.name;\n        }\n\n        if(path === Routs.cardsGroups.path) {\n            return Routs.cardsGroups.name;\n        }\n\n        if(path === Routs.cards.path) {\n            return Routs.cards.name;\n        }\n\n        if(path === Routs.cardsRepeater.path) {\n            return Routs.cardsRepeater.name;\n        }\n\n        if(path === Routs.localBackups.path) {\n            return Routs.localBackups.name;\n        }\n\n        if(path === Routs.settings.path) {\n            return Routs.settings.name;\n        }\n\n        if(path === Routs.cardViewer.path) {\n            return Routs.settings.name;\n        }\n\n        return 'My Cards'\n    }\n}\n\nexport const toolbarManager = new ToolbarService();\n","import {FC, MouseEventHandler} from 'react';\nimport {AppBar, IconButton, Toolbar, Typography} from '@mui/material';\nimport MenuIcon from '@mui/icons-material/Menu';\n\nimport './ToolbarComponent.css'\n\nexport const ToolbarComponent: FC<IToolbarComponent> = ({pageLabel, onClick}) => {\n\n    return (\n        <AppBar position=\"fixed\">\n            <Toolbar className=\"toolbar\">\n                <IconButton className=\"toolbar_menu-icon\" edge=\"start\" color=\"inherit\" aria-label=\"menu\"\n                            onClick={onClick}>\n                    <MenuIcon/>\n                </IconButton>\n                <Typography className=\"toolbar_label\" variant=\"h6\">\n                    {pageLabel}\n                </Typography>\n            </Toolbar>\n        </AppBar>\n    )\n};\n\ninterface IToolbarComponent {\n    pageLabel: string;\n    onClick: MouseEventHandler\n}\n","export const jsonEqual = <T>(args: { value: T, other: T }) => {\n    const {value, other} = args;\n    return JSON.stringify(value) === JSON.stringify(other);\n}","import {Observable} from 'rxjs';\n\nimport {functionToThread} from \"../logic/functionToThread\";\n\nexport const fromThread = <A, R>(arg: A, workerFunction: (arg: A) => R) => {\n\n    const thread = functionToThread(workerFunction)\n\n    return new Observable(observer => {\n        thread.postMessage(arg);\n        thread.onmessage = (event: MessageEvent) => {\n            observer.next(event.data);\n            thread.terminate();\n            observer.complete();\n        }\n        thread.onerror = (err) => {\n            observer.error(err);\n        }\n    })\n}","export const functionToThread = <A, R>(workerFunction: (arg: A) => R) => {\n\n    const functionString = `(function worker() {\n            var self = this;\n            self.onmessage = function(e) {\n                const result = (${workerFunction.toString()})(e.data)\n                self.postMessage(result);\n            }\n        })()`;\n\n    const functionBlob = new Blob([functionString], {type: 'text/javascript'});\n\n    return new Worker(URL.createObjectURL(functionBlob));\n}","import {Observable, Subject, Subscription} from 'rxjs';\n\nimport {jsonEqual} from \"./logic/jsonEqual\";\nimport {fromThread} from \"../worker-observable/operators/fromThread\";\n\nexport class Channel<A, D> {\n\n    private readonly outputSubject: Subject<D>;\n    private observableCreator: (arg: A) => Observable<D>;\n    private subscriptions: Subscription[] = [];\n    private previousEmittedValue: D | null = null;\n\n    constructor(\n        observableCreator: (arg: A) => Observable<D>\n    ) {\n        this.outputSubject = new Subject<D>();\n        this.observableCreator = observableCreator;\n    }\n\n    next(value: A) {\n        this.subscriptions.push(this.observableCreator(value).subscribe(\n            (value) => {\n                this.outputSubject.next(value);\n            },\n            (error) => {\n                this.outputSubject.error(error);\n            }\n        ));\n    }\n\n    subscribe(\n        next?: (data: D) => void,\n        customErrorHandler?: (error: Error) => void,\n        deepEqual = false\n    ): Subscription {\n        const outputSubjectSubscription = this.outputSubject.subscribe(\n            (data: D) => {\n                if (next) {\n                    if (deepEqual) {\n                        this.deepEqual(next, data);\n                    } else {\n                        next(data)\n                    }\n                }\n            },\n            (error: Error) => {\n                if (customErrorHandler) {\n                    customErrorHandler(error);\n                }\n                console.error(error)\n            }\n        );\n        this.subscriptions.push(outputSubjectSubscription);\n        return outputSubjectSubscription;\n    }\n\n    private deepEqual(next: (data: D) => void, data: D): void {\n        if (!this.previousEmittedValue) {\n            next(data)\n        }\n        this.previousEmittedValue = data;\n\n        const subscription = fromThread(\n            {value: data, other: this.previousEmittedValue},\n            jsonEqual\n        ).subscribe(\n            (result) => {\n                if (result) {\n                    next(data)\n                }\n            },\n            (equalityError) => {\n                console.error(equalityError)\n            }\n        )\n        this.subscriptions.push(subscription)\n    }\n\n    unsubscribe() {\n        this.subscriptions.forEach((subscribtion: Subscription) => {\n            if (!subscribtion.closed) {\n                subscribtion.unsubscribe();\n            }\n        });\n        this.subscriptions = [];\n    }\n}\n","import {of} from 'rxjs';\n\nimport {Channel} from '../../../MyTools/channel-conception/Channel';\n\nclass NavigationPanelService {\n\n    public navigationPanelOpenChannel: Channel<string, string>;\n\n    constructor() {\n        this.navigationPanelOpenChannel = new Channel<string, string>((value: string) => of(value))\n    }\n}\n\nexport const navigationPanelService = new NavigationPanelService();\n","import React, {ReactElement, useEffect, useState} from 'react';\nimport * as H from 'history';\nimport {useLocation} from 'react-router-dom';\n\nimport {toolbarManager} from './ToolbarService';\nimport {ToolbarComponent} from './ToolbarComponent';\nimport {navigationPanelService} from '../navigation-panel/NavigationPanelService';\n\nexport const ToolbarContainer = (): ReactElement => {\n\n    const location: H.Location = useLocation();\n    const [pageLabel, setPageLabel] = useState('');\n\n    useEffect(() => {\n        const newPageLabel = toolbarManager.getPageLabel(location.pathname);\n        setPageLabel(newPageLabel);\n    }, [location.pathname]);\n\n    const onClick = () => {\n        navigationPanelService.navigationPanelOpenChannel.next('');\n    };\n\n    return (\n        <ToolbarComponent pageLabel={pageLabel} onClick={onClick}/>\n    )\n};\n","import {Link} from 'react-router-dom';\nimport {ListItem} from '@mui/material';\nimport * as React from 'react';\nimport {FC, ReactEventHandler} from 'react';\n\nexport const NavigationLinkComponent: FC<INavigationLinkComponent> = ({path, name, toggleDrawer}: INavigationLinkComponent) => {\n\n    return (\n        <ListItem button>\n            <Link to={path} onClick={toggleDrawer(false)}>\n                {name}\n            </Link>\n        </ListItem>\n    )\n};\n\ninterface INavigationLinkComponent {\n    path: string;\n    name: string;\n    toggleDrawer: (isOpen: boolean) => ReactEventHandler\n}\n","import * as React from 'react';\nimport {FC, ReactEventHandler} from 'react';\nimport {List, SwipeableDrawer} from '@mui/material';\n\nimport {Routs} from '../../common/Routs';\nimport {NavigationLinkComponent} from './elements/navigation-link-component/NavigationLinkComponent';\n\nexport const NavigationPanelComponent: FC<INavigationPanelComponent> = ({isOpen, toggleDrawer}) => {\n\n    return (\n        <SwipeableDrawer\n            anchor=\"left\"\n            open={isOpen}\n            onClose={toggleDrawer(false)}\n            onOpen={toggleDrawer(true)}\n        >\n            <List>\n                <NavigationLinkComponent path={Routs.cardsGroups.path} name={Routs.cardsGroups.name} toggleDrawer={toggleDrawer}/>\n                <NavigationLinkComponent path={Routs.googleAuth.path} name={Routs.googleAuth.name} toggleDrawer={toggleDrawer}/>\n                <NavigationLinkComponent path={Routs.localBackups.path} name={Routs.localBackups.name} toggleDrawer={toggleDrawer}/>\n                <NavigationLinkComponent path={Routs.settings.path} name={Routs.settings.name} toggleDrawer={toggleDrawer}/>\n            </List>\n        </SwipeableDrawer>\n    )\n};\n\ninterface INavigationPanelComponent {\n    isOpen: boolean\n    toggleDrawer: (isOpen: boolean) => ReactEventHandler\n}\n\n\n","import {useEffect, useRef} from 'react';\nimport {Subscription} from 'rxjs';\n\nimport {Channel} from '../Channel';\n\nexport const useChannel = <A, D>(\n    channel: Channel<A, D>,\n    next?: (value: D) => void,\n    additionalErrorHandler?: (error: Error) => void,\n    deepEqual = true\n) => {\n\n    const value = useRef<{ subscription: Subscription | null }>({\n        subscription: null\n    });\n\n    if (!value.current.subscription || value.current.subscription.closed) {\n        const subscription = channel.subscribe(next, additionalErrorHandler, deepEqual);\n        value.current.subscription = subscription;\n    }\n\n    useEffect(() => {\n        return () => {\n            channel.unsubscribe();\n        }\n    }, [channel]);\n};\n","import * as React from 'react';\nimport {ReactEventHandler, SyntheticEvent, useState} from 'react';\n\nimport {navigationPanelService} from './NavigationPanelService';\nimport {NavigationPanelComponent} from './NavigationPanelComponent';\nimport {useChannel} from '../../../MyTools/channel-conception/react-hooks/useChannel';\n\nexport const NavigationPanelContainer = () => {\n\n    const [state, setState] = useState<INavigationPanelState>({\n        isOpen: false\n    });\n\n    useChannel<string, string>(navigationPanelService.navigationPanelOpenChannel, () => {\n        setState({...state, isOpen: true});\n    });\n\n    const toggleDrawer = (isOpen: boolean): ReactEventHandler => (event: SyntheticEvent<Element, KeyboardEvent>) => {\n        if (event && event.type === 'keydown' && (event.nativeEvent.key === 'Tab' || event.nativeEvent.key === 'Shift')) {\n            return;\n        }\n\n        setState({...state, isOpen});\n    };\n\n    return (\n        <NavigationPanelComponent isOpen={state.isOpen} toggleDrawer={toggleDrawer}/>\n    )\n};\n\ninterface INavigationPanelState {\n    isOpen: boolean;\n}\n","import {Button, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle} from '@mui/material';\nimport * as React from 'react';\nimport {FC} from 'react';\n\nexport const ErrorComponent: FC<IErrorComponent> = ({isOpen, errorMessage, handleClose}) => {\n\n    return (\n        <Dialog\n            open={isOpen}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n            onClose={handleClose}\n        >\n            <DialogTitle id=\"alert-dialog-title\">{\"Something went wrong\"}</DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"alert-dialog-description\">\n                    {errorMessage}\n                </DialogContentText>\n            </DialogContent>\n            <DialogActions>\n                <Button color=\"primary\" onClick={handleClose}>\n                    Ok\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n};\n\ninterface IErrorComponent {\n    isOpen: boolean;\n    errorMessage: string;\n    handleClose: () => void;\n}\n","import React, {FC, useState} from 'react';\n\nimport {useChannel} from '../../../MyTools/channel-conception/react-hooks/useChannel';\nimport {ErrorComponent} from './ErrorComponent';\nimport {ErrorService} from './ErrorService';\n\nexport const ErrorContainer: FC<IErrorContainer> = ({errorService}) => {\n\n    const [state, setState] = useState<ErrorContainerState>({isOpen: false, errorMessage: ''});\n\n    useChannel<string, string>(errorService.errorChannel, (errorMessage: string) => {\n        setState({\n            isOpen: true,\n            errorMessage\n        })\n    });\n\n    const onClose = () => {\n        setState({\n            isOpen: false,\n            errorMessage: ''\n        })\n    };\n\n    return <ErrorComponent isOpen={state.isOpen} errorMessage={state.errorMessage} handleClose={onClose}/>\n};\n\ninterface IErrorContainer {\n    errorService: ErrorService;\n}\n\ninterface ErrorContainerState {\n    isOpen: boolean;\n    errorMessage: string;\n}\n","import {LinearProgress} from '@mui/material';\nimport * as React from 'react';\nimport {FC} from 'react';\n\nexport const SpinnerComponent: FC<ISpinnerComponent> = ({isShow}) => {\n    return (\n        isShow ? <LinearProgress color=\"secondary\" /> : null\n    )\n};\n\ninterface ISpinnerComponent {\n   isShow: boolean;\n}\n","import * as React from 'react';\nimport {FC, useState} from 'react';\n\nimport {SpinnerComponent} from './SpinnerComponent';\nimport {useChannel} from '../../../MyTools/channel-conception/react-hooks/useChannel';\nimport {SpinnerService} from './SpinnerService';\n\nexport const SpinnerContainer: FC<ISpinnerContainer> = ({spinnerService}) => {\n\n    const [isShow, setShowing] = useState(false);\n\n    useChannel<number, number>(spinnerService.spinnerCounterChannel, (spinnerCounter) => {\n        setShowing(spinnerCounter !== 0);\n    });\n\n    return <SpinnerComponent isShow={isShow}/>\n};\n\ninterface ISpinnerContainer {\n    spinnerService: SpinnerService;\n}\n","export const defaultAppState = {\n    height: 0,\n    width: 0,\n    updateContext: () => {\n    }\n};\n\nexport const DATE_FORMAT = \"dd-MM-yyyy\";\nexport const STORE_NAME = \"cards-store\";\n","import React, {FC} from 'react';\nimport Button from '@mui/material/Button';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\n\nexport const ConfirmDialogComponent: FC<IConfirmDialogComponent> = ({onClickAgree, onClickDisagree, isOpen, message, onClose}) => {\n\n    return (\n        <div>\n            <Dialog\n                open={isOpen}\n                aria-labelledby=\"alert-dialog-title\"\n                aria-describedby=\"alert-dialog-description\"\n                onClose={onClose}\n            >\n                <DialogTitle id=\"alert-dialog-title\">Warning</DialogTitle>\n                <DialogContent>\n                    <DialogContentText id=\"alert-dialog-description\">\n                        {message}\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={onClickDisagree} color=\"primary\">\n                        Disagree\n                    </Button>\n                    <Button onClick={onClickAgree} color=\"primary\" autoFocus>\n                        Agree\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n};\n\ninterface IConfirmDialogComponent {\n    onClickAgree: () => void;\n    onClickDisagree: () => void;\n    onClose: () => void;\n    isOpen: boolean;\n    message: string;\n}\n","import * as React from 'react';\nimport {FC} from 'react';\n\nimport {ConfirmDialogComponent} from './ConfirmDialogComponent';\nimport {useChannel} from '../../../MyTools/channel-conception/react-hooks/useChannel';\nimport {ConfirmDialogService} from './ConfirmDialogService';\n\nexport const ConfirmDialogContainer: FC<IConfirmDialogContainer> = ({confirmDialogService}) => {\n\n    const [state, setState] = React.useState<ConfirmDialogContainerState>({\n        isOpen: false,\n        message: ''\n    });\n\n    useChannel<ConfirmDialogContainerState, ConfirmDialogContainerState>(\n        confirmDialogService.openDialogChannel,\n        (state: ConfirmDialogContainerState) => {\n            setState({...state});\n        }\n    );\n\n    const onClose = () => {\n        setState({isOpen: false, message: ''});\n        confirmDialogService.confirmationChannel.unsubscribe();\n    };\n\n    const onClickAgree = () => {\n        confirmDialogService.confirmationChannel.next(true);\n    };\n\n    const onClickDisagree = () => {\n        confirmDialogService.confirmationChannel.next(false);\n    };\n\n    return <ConfirmDialogComponent\n        isOpen={state.isOpen}\n        onClickAgree={onClickAgree}\n        onClickDisagree={onClickDisagree}\n        onClose={onClose}\n        message={state.message}\n    />\n};\n\nexport interface IConfirmDialogContainer {\n    confirmDialogService: ConfirmDialogService;\n}\n\nexport interface ConfirmDialogContainerState {\n    isOpen: boolean;\n    message: string;\n}\n","import * as React from 'react';\nimport {FC} from 'react';\nimport Fab from '@mui/material/Fab';\nimport AddIcon from '@mui/icons-material/Add';\nimport './AddButton.css'\n\nexport const AddButton: FC<IAddButton> = ({onClick}) => {\n    return <Fab size=\"medium\" color=\"secondary\" aria-label=\"add\" className=\"add-button\" onClick={onClick}>\n        <AddIcon/>\n    </Fab>\n};\n\ninterface IAddButton {\n    onClick: () => void;\n}\n","import React, {FC} from 'react';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport Typography from '@mui/material/Typography';\nimport Box from '@mui/material/Box';\n\nexport const CircularProgressComponent: FC<ICircularProgressComponent> = ({percent}) => {\n    return (\n        <Box position=\"relative\" display=\"inline-flex\">\n            <CircularProgress variant=\"determinate\" value={percent}/>\n            <Box\n                top={0}\n                left={0}\n                bottom={0}\n                right={0}\n                position=\"absolute\"\n                display=\"flex\"\n                alignItems=\"center\"\n                justifyContent=\"center\"\n            >\n                <Typography variant=\"caption\" component=\"div\" color=\"textSecondary\">{`${Math.round(\n                    percent,\n                )}%`}</Typography>\n            </Box>\n        </Box>\n    );\n};\n\ninterface ICircularProgressComponent {\n    percent: number\n}\n","import MoreVertIcon from '@mui/icons-material/MoreVert';\nimport {IconButton, Menu, MenuItem} from '@mui/material';\nimport {default as React, FC} from 'react';\n\nexport const ListItemMenuComponent: FC<IListItemMenuComponent> = ({onEdit, onDelete, onResetProgress}) => {\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event: any) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const editClick = () => {\n        onEdit();\n        handleClose();\n    };\n\n    const resetClick = () => {\n        onResetProgress();\n        handleClose();\n    };\n\n    const deleteClick = () => {\n        onDelete();\n        handleClose();\n    };\n\n    return (\n        <>\n            <Menu\n                id=\"simple-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n            >\n                <MenuItem onClick={editClick}>Edit</MenuItem>\n                <MenuItem onClick={resetClick}>Reset progress</MenuItem>\n                <MenuItem onClick={deleteClick}>Delete</MenuItem>\n            </Menu>\n            <IconButton aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n                <MoreVertIcon/>\n            </IconButton>\n        </>\n    )\n};\n\ninterface IListItemMenuComponent {\n    onEdit: () => void;\n    onDelete: () => void;\n    onResetProgress: () => void;\n}\n","import React, {FC} from \"react\"\nimport format from 'date-fns/format'\nimport ListItem from '@mui/material/ListItem';\nimport ListItemIcon from '@mui/material/ListItemIcon/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText/ListItemText';\n\nimport {DATE_FORMAT} from '../../../../common/Constants';\nimport {ICardsGroup} from '../../../../types/ICardsGroup';\nimport {CircularProgressComponent} from '../circular-progress/CircularProgressComponent';\nimport {ListItemMenuComponent} from '../../../../common/elements/list-item-menu/ListItemMenuComponent';\nimport './CardsGroupsListItemComponent.css'\n\nexport const CardsGroupsListItemComponent: FC<ICardsGroupsListItemComponent> = (\n    {\n        cardsGroup,\n        onClickItem,\n        onEditItem,\n        onDeleteItem,\n        onResetProgress\n    }\n) => {\n\n    return <>\n        <ListItem key={cardsGroup.id} button component=\"div\">\n            <ListItemIcon onClick={() => onClickItem(cardsGroup.id)}>\n                <CircularProgressComponent percent={cardsGroup.percentRepeatedCards || 0}/>\n            </ListItemIcon>\n            <ListItemText\n                className=\"cards-groups-list-item_card-name\"\n                onClick={() => onClickItem(cardsGroup.id)}\n                primary={cardsGroup.nameCardsGroup}\n                secondary={'Last repeating date: ' + format(cardsGroup.repeatingDate ? cardsGroup.repeatingDate : new Date(), DATE_FORMAT)}\n            />\n            <ListItemIcon>\n                <ListItemMenuComponent\n                    onEdit={() => onEditItem(cardsGroup.id)}\n                    onDelete={() => onDeleteItem(cardsGroup.id)}\n                    onResetProgress={() => onResetProgress(cardsGroup.id)}\n                />\n            </ListItemIcon>\n        </ListItem>\n    </>\n};\n\ninterface ICardsGroupsListItemComponent {\n    cardsGroup: ICardsGroup;\n    onClickItem: (id: number) => void;\n    onEditItem: (id: number) => void;\n    onDeleteItem: (id: number) => void;\n    onResetProgress: (id: number) => void;\n}\n","import React, {FC} from \"react\";\nimport {FixedSizeList as List} from 'react-window';\n\nimport {ICardsGroup} from '../../types/ICardsGroup';\nimport './CardsGroupsListComponent.css'\nimport {AddButton} from '../../common/elements/add-button/AddButton';\nimport {CardsGroupsListItemComponent} from './elements/cards-groups-list-item/CardsGroupsListItemComponent';\n\nexport const CardsGroupsListComponent: FC<ICardsGroupsListComponent> = (\n    {\n        cardsGroups,\n        onClickItem,\n        onEditItem,\n        onDeleteItem,\n        onOpenEditor,\n        onResetProgress,\n        height,\n        width\n    }\n) => {\n\n    return <>\n        <List\n            className=\"cards-groups\"\n            itemData={cardsGroups}\n            itemSize={55}\n            itemCount={cardsGroups.length}\n            overscanCount={5}\n            height={height}\n            width={width}\n        >\n            {({index, style}: any) => {\n                const cardGroup = cardsGroups[index];\n                return <div style={style}><CardsGroupsListItemComponent\n                    key={cardGroup.id}\n                    cardsGroup={cardGroup}\n                    onClickItem={onClickItem}\n                    onEditItem={onEditItem}\n                    onDeleteItem={onDeleteItem}\n                    onResetProgress={onResetProgress}\n                /></div>\n            }}\n        </List>\n        <AddButton onClick={onOpenEditor}/>\n    </>\n};\n\ninterface ICardsGroupsListComponent {\n    cardsGroups: ICardsGroup[];\n    onClickItem: (id: number) => void;\n    onEditItem: (id: number) => void;\n    onDeleteItem: (id: number) => void;\n    onOpenEditor: () => void;\n    onResetProgress: (id: number) => void;\n    height: number;\n    width: number\n}\n","import {useRef} from 'react';\n\nexport const useConstructor = (callback: () => void) => {\n\n    const value = useRef({isFirstRun: true});\n\n    if (value.current.isFirstRun) {\n        callback();\n        value.current.isFirstRun = false;\n    }\n};\n","import {useEffect, useRef} from 'react';\nimport {Subscription} from 'rxjs';\n\nexport const useUnsubscribe = () => {\n\n    const subscriptions = useRef<Array<Subscription>>([]);\n\n    useEffect(() => {\n        return () => {\n            subscriptions.current.forEach((subscription: Subscription) => {\n                if( !subscription.closed ) {\n                    subscription.unsubscribe();\n                }\n            });\n            subscriptions.current = [];\n        }\n    }, []);\n\n    return { setSubscription: (subscribtion: Subscription) => {\n        subscriptions.current.push(subscribtion);\n    }}\n};\n","import React, {FC, useContext, useState} from \"react\";\n\nimport {CardsGroupsListComponent} from './CardsGroupsListComponent';\nimport {useChannel} from '../../../MyTools/channel-conception/react-hooks/useChannel';\nimport {ICardsGroup} from '../../types/ICardsGroup';\nimport {useConstructor} from '../../../MyTools/react-hooks/useConstructor';\nimport {CardsGroupsListService} from './CardsGroupsListService';\nimport {Routs} from '../../common/Routs';\nimport {useHistory} from 'react-router';\nimport {ConfirmDialogService} from '../../parts/confirm-dialog/ConfirmDialogService';\nimport {useUnsubscribe} from '../../../MyTools/react-hooks/useUnsubscribe';\nimport {IAppContext} from '../../types/IAppContext';\nimport {AppContext} from '../../../App';\n\nexport const CardsGroupsListContainer: FC<ICardsGroupsListContainer> = ({cardsGroupsListService, confirmDialogService}) => {\n\n    const [state, setState] = useState<CardsGroupsListContainerState>({cardsGroups: []});\n\n    const history = useHistory();\n\n    const context = useContext<IAppContext>(AppContext);\n\n    useChannel<string, ICardsGroup[]>(cardsGroupsListService.groupsListChannel, (cardsGroups: ICardsGroup[]) => {\n        setState({cardsGroups: cardsGroups})\n    });\n\n    useChannel<number, ICardsGroup[]>(cardsGroupsListService.groupDeleteChannel, () => {\n        cardsGroupsListService.groupsListChannel.next('');\n    });\n\n    useChannel<number, ICardsGroup[]>(cardsGroupsListService.resetProgressChannel, () => {\n        cardsGroupsListService.groupsListChannel.next('');\n    });\n\n    useConstructor(() => {\n        cardsGroupsListService.groupsListChannel.next('');\n    });\n\n    const { setSubscription } = useUnsubscribe();\n\n    const onClickItem = (cardsGroupID: number): void => {\n        history.push({\n            pathname: Routs.cards.path,\n            state: {\n                cardsGroupID: cardsGroupID\n            }\n        })\n    };\n\n    const onOpenEditor = () => {\n        history.push({\n            pathname: Routs.cardsGroupEditor.path\n        })\n    };\n\n    const onDeleteItem = (cardsGroupID: number) => {\n\n        const subscription = confirmDialogService.confirmationChannel.subscribe((isConfirm) => {\n            if (isConfirm) {\n                cardsGroupsListService.groupDeleteChannel.next(cardsGroupID);\n            }\n\n            confirmDialogService.openDialogChannel.next({\n                isOpen: false,\n                message: ''\n            })\n        });\n\n        setSubscription(subscription);\n\n        confirmDialogService.openDialogChannel.next({\n            isOpen: true,\n            message: 'Do you want to remove this group?'\n        })\n    };\n\n    const onEditItem = (cardsGroupID: number) => {\n        history.push({\n            pathname: Routs.cardsGroupEditor.path,\n            state: {\n                cardsGroupID: cardsGroupID\n            }\n        })\n    };\n\n    const onResetProgress = (cardsGroupID: number) => {\n        const subscription = confirmDialogService.confirmationChannel.subscribe((isConfirm) => {\n            if (isConfirm) {\n                cardsGroupsListService.resetProgressChannel.next(cardsGroupID);\n            }\n\n            confirmDialogService.openDialogChannel.next({\n                isOpen: false,\n                message: ''\n            })\n        });\n\n        setSubscription(subscription);\n\n        confirmDialogService.openDialogChannel.next({\n            isOpen: true,\n            message: 'Do you want to reset progress of this group?'\n        });\n    };\n\n    return <CardsGroupsListComponent\n        onClickItem={onClickItem}\n        onOpenEditor={onOpenEditor}\n        onDeleteItem={onDeleteItem}\n        onEditItem={onEditItem}\n        onResetProgress={onResetProgress}\n        height={context.height}\n        width={context.width}\n        cardsGroups={state.cardsGroups}/>\n};\n\ninterface CardsGroupsListContainerState {\n    cardsGroups: ICardsGroup[];\n}\n\ninterface ICardsGroupsListContainer {\n    cardsGroupsListService: CardsGroupsListService;\n    confirmDialogService: ConfirmDialogService;\n}\n","import GoogleLogin, {GoogleLoginResponse, GoogleLoginResponseOffline} from 'react-google-login';\nimport * as React from 'react';\nimport {FC} from 'react';\nimport './GoogleAuthComponent.css'\n\nexport const GoogleAuthComponent: FC<IGoogleAuthComponent> = ({onSuccess, onFailure, height, width}) => {\n    return (\n        <div className=\"google-auth\" style={{height, width}}>\n            <GoogleLogin\n                className=\"google-auth_button\"\n                clientId=\"627973926597-tj2la0mnorvm04cqmcosu2nj3b02g6k2.apps.googleusercontent.com\"\n                buttonText=\"Login\"\n                onSuccess={onSuccess}\n                onFailure={onFailure}\n                scope={'profile email https://www.googleapis.com/auth/drive'}\n            />\n        </div>\n    )\n};\n\ninterface IGoogleAuthComponent {\n    onSuccess: (response: GoogleLoginResponse | GoogleLoginResponseOffline) => void\n    onFailure: (response: GoogleLoginResponse | GoogleLoginResponseOffline) => void\n    height: number,\n    width: number\n}\n","import * as React from 'react';\nimport {FC} from 'react';\nimport {GoogleLoginResponse, GoogleLoginResponseOffline} from 'react-google-login';\nimport {useHistory} from 'react-router';\n\nimport {Routs} from '../../common/Routs';\nimport {useChannel} from '../../../MyTools/channel-conception/react-hooks/useChannel';\nimport {GoogleAuthService} from './GoogleAuthService';\nimport {GoogleAuthComponent} from './GoogleAuthComponent';\nimport {IAppContext} from '../../types/IAppContext';\nimport {AppContext} from '../../../App';\nimport {ErrorService} from '../../parts/error-container/ErrorService';\n\nexport const GoogleAuthContainer: FC<IGoogleAuthContainer> = ({googleAuthService, errorService}) => {\n\n    const history = useHistory();\n\n    useChannel(googleAuthService.loginChannel, ()=> {\n        history.replace(Routs.googleBackups.path);\n    });\n\n    const {height, width} = React.useContext<IAppContext>(AppContext);\n\n    const onSuccess = (response: GoogleLoginResponse | GoogleLoginResponseOffline) => {\n        googleAuthService.loginChannel.next((response as GoogleLoginResponse).accessToken);\n    };\n\n    const onFailure = () => {\n        errorService.errorChannel.next('Error of connection');\n    };\n\n    return <GoogleAuthComponent\n        onSuccess={onSuccess}\n        onFailure={onFailure}\n        height={height}\n        width={width}\n    />;\n};\n\ninterface IGoogleAuthContainer {\n    googleAuthService: GoogleAuthService;\n    errorService: ErrorService;\n}\n","import MoreVertIcon from '@mui/icons-material/MoreVert';\nimport {IconButton, Menu, MenuItem} from '@mui/material';\nimport {default as React, FC} from 'react';\n\n\nexport const BackupMenuComponent: FC<IBackupMenuComponent> = ({backupID, onLoad, onDelete}) => {\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const handleClick = (event: any) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const onLoadBackup = () => {\n        setAnchorEl(null);\n        onLoad(backupID);\n    };\n\n    const onDeleteBackup = () => {\n        setAnchorEl(null);\n        onDelete(backupID);\n    };\n\n    return (\n        <>\n            <Menu\n                id=\"simple-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n            >\n                <MenuItem onClick={onLoadBackup}>Load</MenuItem>\n                <MenuItem onClick={onDeleteBackup}>Delete</MenuItem>\n            </Menu>\n            <IconButton aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\n                <MoreVertIcon/>\n            </IconButton>\n        </>\n    )\n};\n\ninterface IBackupMenuComponent {\n    backupID: string;\n    onLoad: (backupID: string)=>void;\n    onDelete: (backupID: string)=>void;\n}\n","import {default as React, FC} from 'react';\nimport {ListItem, ListItemIcon, ListItemText} from '@mui/material';\n\nimport {BackupMenuComponent} from '../backup-menu-component/BackupMenuComponent';\n\nexport const BackupsListItemComponent: FC<IBackupsListItemComponent> = ({backupName, backupID, onLoad, onDelete}) => {\n\n    return (\n        <ListItem>\n            <ListItemText\n                primary={backupName}\n            />\n            <ListItemIcon>\n                <BackupMenuComponent backupID={backupID} onLoad={onLoad} onDelete={onDelete}/>\n            </ListItemIcon>\n        </ListItem>\n    );\n};\n\ninterface IBackupsListItemComponent {\n    backupName: string;\n    backupID: string;\n    onLoad: (backupID: string)=>void;\n    onDelete: (backupID: string)=>void;\n}\n","import {IGoogleDriveFile} from '../../types/IGoogleDriveFile';\nimport {BackupsListItemComponent} from './elements/backups-list-item-component/BackupsListItemComponent';\nimport {List} from '@mui/material';\nimport * as React from 'react';\nimport {FC} from 'react';\nimport {AddButton} from '../../common/elements/add-button/AddButton';\n\n\nexport const BackupsListComponent: FC<IBackupsListComponent> = ({backupsFiles, onLoad, onCreate, onDelete}) => {\n    return (\n        <>\n            <List>\n                {\n                    backupsFiles.map((backup: IGoogleDriveFile) => {\n                        return <BackupsListItemComponent\n                            key={backup.id}\n                            backupName={backup.createdTime}\n                            onLoad={onLoad}\n                            onDelete={onDelete}\n                            backupID={backup.id}/>\n                    })\n                }\n            </List>\n            <AddButton onClick={onCreate}/>\n        </>\n    )\n};\n\ninterface IBackupsListComponent {\n    backupsFiles: IGoogleDriveFile[];\n    onLoad: (backupID: string) => void;\n    onCreate: () => void;\n    onDelete: (backupID: string) => void;\n}\n","import * as React from 'react';\nimport {FC, useState} from 'react';\n\nimport {useChannel} from '../../../MyTools/channel-conception/react-hooks/useChannel';\nimport {GoogleBackupsService} from './GoogleBackupsService';\nimport {IGoogleDriveFile} from '../../types/IGoogleDriveFile';\nimport {BackupsListComponent} from './BackupsListComponent';\nimport {useHistory} from 'react-router';\nimport {Routs} from '../../common/Routs';\nimport {useConstructor} from '../../../MyTools/react-hooks/useConstructor';\nimport {SpinnerService} from '../../parts/spinner/SpinnerService';\nimport {useUnsubscribe} from '../../../MyTools/react-hooks/useUnsubscribe';\nimport {ConfirmDialogService} from '../../parts/confirm-dialog/ConfirmDialogService';\n\nexport const GoogleBackupsContainer: FC<IGoogleBackupsContainer> = ({spinnerService, googleBackupsService, confirmDialogService}) => {\n\n    const history = useHistory();\n\n    const [state, setState] = useState<GoogleAuthComponentState>({\n        backupsFiles: []\n    });\n\n    useChannel(\n        googleBackupsService.backupsNameLoadChannel,\n        (backupsFiles: IGoogleDriveFile[]) => {\n            setState({...state, backupsFiles: backupsFiles});\n            spinnerService.spinnerCounterChannel.next(-1);\n        },\n        () => {\n            spinnerService.spinnerCounterChannel.next(-1);\n            history.replace(Routs.googleAuth.path);\n        }\n    );\n\n    useChannel(\n        googleBackupsService.backupLoadChannel,\n        () => {\n            spinnerService.spinnerCounterChannel.next(-1);\n        },\n        () => {\n            spinnerService.spinnerCounterChannel.next(-1);\n            history.replace(Routs.googleAuth.path);\n        }\n    );\n\n    useChannel(googleBackupsService.backupDeleteChannel, () => {\n       spinnerService.spinnerCounterChannel.next(-1);\n    });\n\n    useChannel(googleBackupsService.backupUploadChannel, () => {\n        spinnerService.spinnerCounterChannel.next(-1);\n    });\n\n    useConstructor(() => {\n        googleBackupsService.backupsNameLoadChannel.next('');\n    });\n\n    const { setSubscription } = useUnsubscribe();\n\n    const onLoad = (backupID: string) => {\n        spinnerService.spinnerCounterChannel.next(1);\n        googleBackupsService.backupLoadChannel.next(backupID);\n    };\n\n    const onDelete = (backupID: string) => {\n        googleBackupsService.backupLoadChannel.next(backupID);\n\n        const subscription = confirmDialogService.confirmationChannel.subscribe((isConfirm) => {\n            if (isConfirm) {\n                spinnerService.spinnerCounterChannel.next(1);\n                googleBackupsService.backupDeleteChannel.next(backupID);\n            }\n\n            confirmDialogService.openDialogChannel.next({\n                isOpen: false,\n                message: ''\n            })\n        });\n\n        setSubscription(subscription);\n\n        confirmDialogService.openDialogChannel.next({\n            isOpen: true,\n            message: 'Do you want to delete this backup?'\n        });\n    };\n\n    const onCreate = () => {\n        spinnerService.spinnerCounterChannel.next(1);\n        googleBackupsService.backupUploadChannel.next();\n    };\n\n    return <BackupsListComponent backupsFiles={state.backupsFiles} onLoad={onLoad} onDelete={onDelete} onCreate={onCreate}/>;\n};\n\ninterface IGoogleBackupsContainer {\n    spinnerService: SpinnerService;\n    googleBackupsService: GoogleBackupsService;\n    confirmDialogService: ConfirmDialogService;\n}\n\ninterface GoogleAuthComponentState {\n    backupsFiles: IGoogleDriveFile[];\n}\n","export enum ISortVariants {\n    NONE = 'Нет сортировки',\n    QUESTION_ASK = 'По имени по возрастанию',\n    QUESTION_DESK = 'По имени по убыванию',\n    STATUS_ASK = 'По стсатусу сначала пройденные',\n    STATUS_DESK = 'По статусу сначала не пройденные'\n}","import React, {FC} from \"react\"\nimport format from 'date-fns/format'\nimport ListItem from '@mui/material/ListItem';\nimport ListItemIcon from '@mui/material/ListItemIcon/ListItemIcon';\nimport ListItemText from '@mui/material/ListItemText/ListItemText';\nimport FlagIcon from '@mui/icons-material/Flag';\n\nimport {DATE_FORMAT} from '../../../../common/Constants';\nimport {ICard} from '../../../../types/ICard';\nimport {IRangeOfKnowledge} from '../../../../types/IRangeOfKnowledge';\nimport {ListItemMenuComponent} from '../../../../common/elements/list-item-menu/ListItemMenuComponent';\nimport \"./CardsListItemComponent.css\";\nimport {Checkbox, ListItemButton} from \"@mui/material\";\n\nexport const CardsListItemComponent: FC<ICardListItemComponent> = (\n    {\n        card,\n        onEditItem,\n        onDeleteItem,\n        onResetProgress,\n        onClickItem,\n        onSelect,\n        isEnabledSelecting,\n        isSelected\n    }\n) => {\n\n    const getIconColor = (card: ICard): string => {\n        if (card.rangeOfKnowledge === IRangeOfKnowledge.DONE) {\n            return 'green'\n        }\n        if (card.rangeOfKnowledge === IRangeOfKnowledge.IN_PROGRESS) {\n            return 'yellow'\n        }\n        return 'red'\n    };\n\n    return <ListItem key={card.id} button>\n        <ListItemIcon onClick={() => onClickItem(card.id)}>\n            <FlagIcon style={{color: getIconColor(card)}}/>\n        </ListItemIcon>\n        <ListItemText\n            className=\"cards-list-item_card-name\"\n            onClick={() => isEnabledSelecting ? () => {\n            } : onClickItem(card.id)}\n            primary={card.question}\n            secondary={'Last repeating date: ' + format(card.dateRepeating ? card.dateRepeating : new Date(), DATE_FORMAT)}\n        />\n        {\n            !isEnabledSelecting ?\n                <ListItemIcon>\n                    <ListItemMenuComponent\n                        onEdit={() => onEditItem(card.id)}\n                        onDelete={() => onDeleteItem(card.id)}\n                        onResetProgress={() => onResetProgress(card.id)}\n                    />\n                </ListItemIcon> :\n                <ListItemIcon>\n                    <Checkbox\n                        edge=\"start\"\n                        checked={isSelected}\n                        tabIndex={-1}\n                        disableRipple\n                    />\n                </ListItemIcon>\n        }\n    </ListItem>\n};\n\ninterface ICardListItemComponent {\n    card: ICard;\n    onEditItem: (id: number) => void;\n    onDeleteItem: (id: number) => void;\n    onResetProgress: (id: number) => void;\n    onClickItem: (id: number) => void;\n    onSelect: (id: number) => void;\n    isEnabledSelecting: boolean;\n    isSelected: boolean\n}\n","import {\n    Accordion,\n    AccordionDetails,\n    AccordionSummary,\n    MenuItem,\n    Select,\n    SelectChangeEvent,\n    TextField,\n} from \"@mui/material\";\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport {ChangeEvent, default as React, FC} from \"react\";\nimport {IFilter} from \"../../../../types/IFilter\";\nimport {ISortVariants} from \"../../../../types/ISortVariants\";\n\nexport const FilterComponent: FC<IFilterComponent> = (\n    {\n        onChangeSearchableText,\n        filter,\n        onChangeSorting\n    }\n) => {\n\n    const handleChangingSearchableText = (event: ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n        onChangeSearchableText(event.target.value);\n    };\n\n    const handleChangingSortingVariant = (event: SelectChangeEvent<ISortVariants>) => {\n        onChangeSorting(event.target.value as ISortVariants)\n    }\n\n    return <Accordion>\n        <AccordionSummary\n            expandIcon={<ExpandMoreIcon/>}\n            aria-controls=\"panel1a-content\"\n            id=\"panel1a-header\"\n        >\n            <TextField\n                className=\"text-editor\"\n                required\n                id=\"outlined-required\"\n                placeholder=\"Search card\"\n                onChange={handleChangingSearchableText}\n                style={{\n                    marginRight: '20px',\n                }}\n                onClick={(event) => {\n                    event.stopPropagation()\n                    event.preventDefault()\n                }}\n            />\n        </AccordionSummary>\n        <AccordionDetails>\n            <Select\n                value={filter.sort}\n                label=\"Sorting\"\n                onChange={handleChangingSortingVariant}\n            >\n                <MenuItem value={ISortVariants.NONE}>{ISortVariants.NONE}</MenuItem>\n                <MenuItem value={ISortVariants.QUESTION_ASK}>{ISortVariants.QUESTION_ASK}</MenuItem>\n                <MenuItem value={ISortVariants.QUESTION_DESK}>{ISortVariants.QUESTION_DESK}</MenuItem>\n                <MenuItem value={ISortVariants.STATUS_ASK}>{ISortVariants.STATUS_ASK}</MenuItem>\n                <MenuItem value={ISortVariants.STATUS_DESK}>{ISortVariants.STATUS_DESK}</MenuItem>\n            </Select>\n        </AccordionDetails>\n    </Accordion>\n}\n\ninterface IFilterComponent {\n    onChangeSearchableText: (answer: string) => void;\n    onChangeSorting: (sortVariant: ISortVariants) => void;\n    filter: IFilter;\n}","import * as React from \"react\";\nimport {FC} from \"react\";\n\nimport AddIcon from \"@mui/icons-material/Add\";\nimport Fab from \"@mui/material/Fab\";\nimport PlayArrowIcon from \"@mui/icons-material/PlayArrow\";\nimport SelectAllIcon from \"@mui/icons-material/SelectAll\";\nimport './CardsListActions.css'\n\nexport const CardsListActions: FC<ICardsListActions> = (\n    {\n        onOpenEditor,\n        onOpenRepeater,\n        onStartSelecting\n    }\n) => {\n    return <div className=\"cards-list-actions\">\n        <Fab size=\"medium\" color=\"secondary\" onClick={onStartSelecting}>\n            <SelectAllIcon/>\n        </Fab>\n        <Fab size=\"medium\" color=\"primary\" onClick={onOpenRepeater}>\n            <PlayArrowIcon/>\n        </Fab>\n        <Fab size=\"medium\" color=\"secondary\" onClick={onOpenEditor}>\n            <AddIcon/>\n        </Fab>\n    </div>\n}\n\ninterface ICardsListActions {\n    onOpenEditor: () => void;\n    onOpenRepeater: () => void;\n    onStartSelecting: () => void;\n}","import {FixedSizeList as List} from 'react-window';\nimport * as React from 'react';\nimport {FC} from 'react';\n\nimport {CardsListItemComponent} from './elements/cards-list-item/CardsListItemComponent';\nimport {ICard} from '../../types/ICard';\nimport './CardsListComponent.css'\nimport {FilterComponent} from \"./elements/filter/FilterComponent\";\nimport {ISortVariants} from \"../../types/ISortVariants\";\nimport {IFilter} from \"../../types/IFilter\";\nimport {CardsListActions} from \"./elements/cards-list-actions/CardsListActions\";\n\n\nexport const CardsListComponent: FC<ICardsListComponent> = (\n    {\n        cards,\n        filter,\n        onOpenEditor,\n        onEditItem,\n        onDeleteItem,\n        onResetProgress,\n        onClickItem,\n        onChangeSearchableText,\n        onChangeSorting,\n        width,\n        onOpenRepeater,\n        onStartSelecting,\n        isEnabledSelecting\n    }\n) => {\n    return (\n        <>\n            <FilterComponent\n                onChangeSearchableText={onChangeSearchableText}\n                onChangeSorting={onChangeSorting}\n                filter={filter}\n            />\n            <List\n                className=\"cards\"\n                itemData={cards}\n                itemSize={55}\n                itemCount={cards.length}\n                overscanCount={5}\n                height={55 * cards.length}\n                width={width}\n            >\n                {\n                    ({index, style}: any) => {\n                        const card = cards[index];\n                        return <div style={style}>\n                            <CardsListItemComponent\n                                key={card.id}\n                                card={card}\n                                onEditItem={onEditItem}\n                                onDeleteItem={onDeleteItem}\n                                onResetProgress={onResetProgress}\n                                onClickItem={onClickItem}\n                                onSelect={() => {\n                                }}\n                                isEnabledSelecting={isEnabledSelecting}\n                                isSelected={false}\n                            />\n                        </div>\n                    }\n                }\n            </List>\n            <CardsListActions\n                onOpenRepeater={onOpenRepeater}\n                onOpenEditor={onOpenEditor}\n                onStartSelecting={onStartSelecting}\n            />\n        </>\n    )\n};\n\ninterface ICardsListComponent {\n    cards: ICard[];\n    onOpenEditor: () => void;\n    onEditItem: (id: number) => void;\n    onDeleteItem: (id: number) => void;\n    onResetProgress: (id: number) => void;\n    onClickItem: (id: number) => void;\n    onChangeSearchableText: (answer: string) => void;\n    height: number;\n    width: number\n    onChangeSorting: (sortVariant: ISortVariants) => void;\n    filter: IFilter\n    onOpenRepeater: () => void;\n    onStartSelecting: () => void;\n    isEnabledSelecting: boolean\n}\n","import React, {FC, useContext, useState} from 'react';\n\nimport {ICard} from '../../types/ICard';\nimport {CardsListComponent} from './CardsListComponent';\nimport {useChannel} from '../../../MyTools/channel-conception/react-hooks/useChannel';\nimport {CardsListService} from './CardsListService';\nimport {useHistory, useLocation} from 'react-router';\nimport {useConstructor} from '../../../MyTools/react-hooks/useConstructor';\nimport {INavigationState} from '../../types/INavigationState';\nimport {Routs} from '../../common/Routs';\nimport {ICardsGroup} from '../../types/ICardsGroup';\nimport {ConfirmDialogService} from '../../parts/confirm-dialog/ConfirmDialogService';\nimport {useUnsubscribe} from '../../../MyTools/react-hooks/useUnsubscribe';\nimport {IAppContext} from '../../types/IAppContext';\nimport {AppContext} from '../../../App';\nimport {IFilter} from \"../../types/IFilter\";\nimport {ISortVariants} from \"../../types/ISortVariants\";\n\nexport const CardsListContainer: FC<ICardsListContainer> = ({cardsListService, confirmDialogService}) => {\n\n    const location = useLocation<INavigationState>();\n\n    const history = useHistory();\n\n    const [state, setState] = useState<CardsListContainerState>(\n        {\n            cards: [],\n            filter: {\n                searchableText: '',\n                sort: ISortVariants.NONE,\n            },\n            isEnabledSelecting: false\n        }\n    );\n\n    const context = useContext<IAppContext>(AppContext);\n\n    useChannel(cardsListService.cardsChannel, (cards: ICard[]) => {\n        setState((prevState) => {\n            return {\n                ...prevState,\n                cards\n            }\n        });\n    });\n\n    useChannel(cardsListService.resetCardProgressChannel, (cards: ICardsGroup[]) => {\n        cardsListService.cardsChannel.next(\n            {\n                cardsGroupID: location.state.cardsGroupID,\n                filter: state.filter\n            }\n        )\n    });\n\n    useChannel(cardsListService.deleteCardChannel, (cards: ICardsGroup[]) => {\n        cardsListService.cardsChannel.next({\n            cardsGroupID: location.state.cardsGroupID,\n            filter: state.filter\n        })\n    });\n\n    useConstructor(() => {\n        cardsListService.cardsChannel.next({\n            cardsGroupID: location.state.cardsGroupID,\n            filter: state.filter\n        })\n    });\n\n    const onOpenEditor = () => {\n        history.push({\n            pathname: Routs.cardsEditor.path,\n            state: {\n                cardsGroupID: location.state.cardsGroupID\n            }\n        })\n    };\n\n    const onEditItem = (cardID: number) => {\n        history.push({\n            pathname: Routs.cardsEditor.path,\n            state: {\n                cardsGroupID: location.state.cardsGroupID,\n                cardID: cardID\n            }\n        })\n    };\n\n    const {setSubscription} = useUnsubscribe();\n\n    const onDeleteItem = (cardID: number) => {\n        const subscription = confirmDialogService.confirmationChannel.subscribe((isConfirm) => {\n            if (isConfirm) {\n                cardsListService.deleteCardChannel.next({cardID, cardsGroupID: location.state.cardsGroupID});\n            }\n\n            confirmDialogService.openDialogChannel.next({\n                isOpen: false,\n                message: ''\n            })\n        });\n\n        setSubscription(subscription);\n\n        confirmDialogService.openDialogChannel.next({\n            isOpen: true,\n            message: 'Do you want to remove this card?'\n        })\n    };\n\n    const onResetProgress = (cardID: number) => {\n        cardsListService.resetCardProgressChannel.next(\n            {\n                cardID,\n                cardsGroupID: location.state.cardsGroupID\n            }\n        )\n    };\n\n    const onClickItem = (cardID: number) => {\n        history.push({\n            pathname: Routs.cardViewer.path,\n            state: {\n                cardsGroupID: location.state.cardsGroupID,\n                cardID: cardID\n            }\n        })\n    };\n\n    const onChangeSearchableText = (searchableText: string) => {\n\n        const newFilter = {\n            ...state.filter,\n            searchableText: searchableText\n        }\n\n        setState({\n            ...state,\n            filter: newFilter\n        })\n\n        cardsListService.cardsChannel.next({\n            cardsGroupID: location.state.cardsGroupID,\n            filter: newFilter\n        })\n    };\n\n    const onChangeSorting = (sortVariant: ISortVariants) => {\n\n        const newFilter = {\n            ...state.filter,\n            sort: sortVariant\n        }\n\n        setState({\n            ...state,\n            filter: newFilter\n        })\n\n        cardsListService.cardsChannel.next({\n            cardsGroupID: location.state.cardsGroupID,\n            filter: newFilter\n        })\n    };\n\n    const onOpenRepeater = () => {\n        history.push({\n            pathname: Routs.cardsRepeater.path,\n            state: location.state\n        })\n    };\n\n    const onStartSelecting = () => {\n        setState({\n            ...state,\n            isEnabledSelecting: !state.isEnabledSelecting\n        })\n    }\n\n    return <CardsListComponent\n        filter={state.filter}\n        onChangeSorting={onChangeSorting}\n        onChangeSearchableText={onChangeSearchableText}\n        cards={state.cards}\n        onOpenEditor={onOpenEditor}\n        onEditItem={onEditItem}\n        onDeleteItem={onDeleteItem}\n        onResetProgress={onResetProgress}\n        onClickItem={onClickItem}\n        width={context.width}\n        height={context.height}\n        onOpenRepeater={onOpenRepeater}\n        onStartSelecting={onStartSelecting}\n        isEnabledSelecting={state.isEnabledSelecting}\n    />\n};\n\ninterface CardsListContainerState {\n    cards: ICard[];\n    filter: IFilter;\n    isEnabledSelecting: boolean;\n}\n\ninterface ICardsListContainer {\n    cardsListService: CardsListService;\n    confirmDialogService: ConfirmDialogService;\n}\n","import React, {FC} from 'react';\n\nimport {Button} from '@mui/material';\nimport {IStatistic} from '../../../../types/IStatistic';\n\nexport const StatisticComponent: FC<IRepeatingStatisticComponent> = ({statistic}) => {\n\n    return <div>\n        <Button size=\"small\">\n            <span style={{color: \"red\"}}>To Do: {statistic.todo}</span>\n        </Button>\n        <Button size=\"small\">\n            <span style={{color: \"orange\"}}>In progress: {statistic.inProgress}</span>\n        </Button>\n        <Button size=\"small\">\n            <span style={{color: \"green\"}}>Completed: {statistic.done}</span>\n        </Button>\n    </div>\n};\n\ninterface IRepeatingStatisticComponent {\n    statistic: IStatistic\n}\n","import React, {FC} from 'react';\nimport {Button, CardActions} from '@mui/material';\n\nimport {IRangeOfKnowledge} from '../../../types/IRangeOfKnowledge';\nimport {ICard} from '../../../types/ICard';\n\nexport const AnswerCardFooterComponent: FC<IAnswerCardFooterComponent> = ({card, onClick}) => {\n\n    return <>\n        {\n            card && card.rangeOfKnowledge !== IRangeOfKnowledge.DONE ?\n                <CardActions className=\"cards-repeater_buttons-container\" style={{height: 10}}>\n                    <Button size=\"small\" color=\"primary\" onClick={() => onClick(true)}>\n                        Yes\n                    </Button>\n                    <Button size=\"small\" color=\"primary\" onClick={() => onClick(false)}>\n                        No\n                    </Button>\n                </CardActions> :\n                <div>Repeated</div>\n        }\n    </>\n};\n\ninterface IAnswerCardFooterComponent {\n    onClick: (isUnderstandable: boolean) => void;\n    card: ICard | undefined;\n}\n","import {ChangeEvent, default as React, FC} from 'react';\nimport {TextField} from '@mui/material';\n\nimport './TextEditorComponent.css'\n\nexport const TextEditorComponent: FC<ITextEditorComponent> = ({onChangeText, changeableText, label}) => {\n\n    const onChange = (event: ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n        onChangeText(event.target.value);\n    };\n\n    return <TextField\n        className=\"text-editor\"\n        required\n        id=\"outlined-required\"\n        label={label || \"\"}\n        multiline\n        onChange={onChange}\n        value={changeableText}\n        variant=\"filled\"\n    />\n};\n\ninterface ITextEditorComponent {\n    onChangeText: (answer: string) => void;\n    changeableText: string\n    label?: string\n}\n","import Typography from '@mui/material/Typography';\nimport React, {FC} from 'react';\nimport {List} from '@mui/material';\nimport CardContent from '@mui/material/CardContent';\nimport Card from '@mui/material/Card';\nimport {ICard} from '../../../types/ICard';\nimport {AnswerCardFooterComponent} from '../answer-card-footer/AnswerCardFooterComponent';\nimport {TextEditorComponent} from '../text-editor/TextEditorComponent';\n\nexport const AnswerCardComponent: FC<IAnswerCardComponent> = (\n    {\n        card,\n        cardHeight,\n        onClickText,\n        onClick,\n        isEditable,\n        onChangeAnswer\n    }\n) => {\n\n    const getText = () => {\n        return card ? card.answer : '';\n    };\n\n    return <Card className=\"cards-repeater\">\n        <CardContent style={{height: cardHeight}}>\n\n            {\n                isEditable ?\n                    <div\n                        style={{paddingTop: 0, height: cardHeight, overflow: 'auto', whiteSpace: 'pre-wrap'}}>\n                        <List style={{paddingTop: 0}}>\n                            <TextEditorComponent onChangeText={onChangeAnswer} changeableText={getText()}/>\n                        </List>\n                    </div>\n                    :\n                    <>\n                        <Typography color=\"textSecondary\" gutterBottom onClick={onClickText}\n                                    style={{\n                                        paddingTop: 0,\n                                        height: cardHeight,\n                                        overflow: 'auto',\n                                        whiteSpace: 'pre-wrap'\n                                    }}>\n                            <List style={{paddingTop: 0}}>\n                                {getText()}\n                            </List>\n                        </Typography>\n                        <AnswerCardFooterComponent onClick={onClick} card={card}/>\n                    </>\n            }\n        </CardContent>\n    </Card>\n};\n\ninterface IAnswerCardComponent {\n    card: ICard | undefined;\n    onClickText: () => void\n    cardHeight: number\n    onClick: (isUnderstandable: boolean) => void;\n    isEditable: boolean;\n    onChangeAnswer: (answer: string) => void;\n}\n","import React, {FC} from 'react';\nimport {IconButton} from '@mui/material';\nimport Typography from '@mui/material/Typography';\nimport {Check, Edit} from '@mui/icons-material';\n\nexport const CardsHeaderComponent: FC<ICardsRepeaterHeaderComponent> = (\n    {\n        isQuestionSide,\n        onSwitchEditing,\n        isEditable\n    }\n) => {\n    return <div className=\"cards-repeater_title\">\n        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n            {isQuestionSide ? 'Question' : 'Answer'}\n        </Typography>\n        <IconButton color=\"inherit\" onClick={onSwitchEditing}>\n            {isEditable ? <Check/> : <Edit/>}\n        </IconButton>\n    </div>\n};\n\ninterface ICardsRepeaterHeaderComponent {\n    isQuestionSide: boolean\n    onSwitchEditing: () => void;\n    isEditable: boolean\n}\n","import React, {FC} from 'react';\n\nimport {Button} from '@mui/material';\n\nexport const AllCardsRepeatedComponent: FC<IAllCardsRepeatedComponent> = ({onBackClick}) => {\n    return <>\n        <span>All cards repeated</span>\n        <Button size=\"small\" color=\"primary\" onClick={onBackClick}>\n            Go back\n        </Button>\n    </>\n};\n\ninterface IAllCardsRepeatedComponent {\n    onBackClick: () => void;\n}\n","import React, {FC} from 'react';\n\nimport {List} from '@mui/material';\nimport Typography from '@mui/material/Typography';\nimport CardContent from '@mui/material/CardContent';\nimport Card from '@mui/material/Card';\nimport {ICard} from '../../../types/ICard';\nimport {TextEditorComponent} from '../text-editor/TextEditorComponent';\n\nexport const QuestionCardComponent: FC<IQuestionCard> = (\n    {\n        card,\n        onClickCard,\n        cardHeight,\n        isEditable,\n        onChangeQuestion\n    }\n) => {\n\n    const question = card ? card.question : '';\n\n    return <Card>\n        <CardContent onClick={onClickCard} style={{height: cardHeight}}>\n            {\n                isEditable ?\n                    <div style={{paddingTop: 0, height: cardHeight, overflow: 'auto', whiteSpace: 'pre-wrap'}}>\n                        <List style={{paddingTop: 0}}>\n                            <TextEditorComponent onChangeText={onChangeQuestion} changeableText={question}/>\n                        </List>\n                    </div> :\n                    <Typography color=\"textSecondary\" gutterBottom>\n                        {question}\n                    </Typography>\n            }\n        </CardContent>\n    </Card>\n};\n\ninterface IQuestionCard {\n    card: ICard | undefined;\n    onClickCard: () => void;\n    cardHeight: number;\n    isEditable: boolean;\n    onChangeQuestion: (question: string) => void;\n}\n","import React, {FC} from 'react';\n\nimport {ICard} from '../../types/ICard';\nimport {StatisticComponent} from './elements/statistic/StatisticComponent';\nimport {AnswerCardComponent} from '../../common/elements/answer-card/AnswerCardComponent';\nimport \"./CardsRepeaterComponent.css\"\nimport {IStatistic} from '../../types/IStatistic';\nimport {CardsHeaderComponent} from '../../common/elements/cards-header/CardsHeaderComponent';\nimport {AllCardsRepeatedComponent} from './elements/all-cards-repeated/AllCardsRepeatedComponent';\nimport {QuestionCardComponent} from '../../common/elements/question-card/QuestionCardComponent';\n\nexport const CardsRepeaterComponent: FC<ICardsRepeaterComponent> = (\n    {\n        card,\n        cardHeight,\n        isQuestionSide,\n        onClickCard,\n        onClick,\n        statistic,\n        onBackClick,\n        onSwitchEditing,\n        isEditable,\n        onChangeAnswer,\n        onChangeQuestion\n    }\n) => {\n\n    return card ?\n        <div className=\"cards-repeater\">\n            <StatisticComponent statistic={statistic}/>\n            <CardsHeaderComponent\n                isQuestionSide={isQuestionSide}\n                isEditable={isEditable}\n                onSwitchEditing={onSwitchEditing}\n            />\n            {\n                isQuestionSide ?\n                    <QuestionCardComponent\n                        card={card}\n                        onClickCard={onClickCard}\n                        cardHeight={cardHeight}\n                        isEditable={isEditable}\n                        onChangeQuestion={onChangeQuestion}\n                    /> :\n                    <AnswerCardComponent\n                        card={card}\n                        onClickText={onClickCard}\n                        cardHeight={cardHeight}\n                        onClick={onClick}\n                        onChangeAnswer={onChangeAnswer}\n                        isEditable={isEditable}\n                    />\n            }\n        </div> :\n        <AllCardsRepeatedComponent onBackClick={onBackClick}/>\n\n};\n\ninterface ICardsRepeaterComponent {\n    card: ICard | undefined;\n    onClick: (isUnderstandable: boolean) => void;\n    isQuestionSide: boolean;\n    onClickCard: () => void;\n    statistic: IStatistic;\n    cardHeight: number;\n    onBackClick: () => void;\n    onSwitchEditing: () => void;\n    isEditable: boolean;\n    onChangeQuestion: (question: string) => void;\n    onChangeAnswer: (answer: string) => void;\n}\n","import {IRangeOfKnowledge} from \"../../types/IRangeOfKnowledge\";\n\nexport const initDefaultCard = () => {\n    return {\n        rangeOfKnowledge: IRangeOfKnowledge.IN_PROGRESS,\n        answer: '',\n        question: '',\n        dateRepeating: 0,\n        id: new Date().getTime()\n    }\n}","import {useHistory, useLocation} from 'react-router';\nimport React, {FC, useContext, useState} from 'react';\n\nimport {useChannel} from '../../../MyTools/channel-conception/react-hooks/useChannel';\nimport {ICard} from '../../types/ICard';\nimport {useConstructor} from '../../../MyTools/react-hooks/useConstructor';\nimport {CardsRepeaterService} from './CardsRepeaterService';\nimport {CardsRepeaterComponent} from './CardsRepeaterComponent';\nimport {Routs} from '../../common/Routs';\nimport {IRepeatingArgs} from '../../types/IRepeatingArgs';\nimport {ICardsGroup} from '../../types/ICardsGroup';\nimport {IStatistic} from '../../types/IStatistic';\nimport {INavigationState} from '../../types/INavigationState';\nimport {AppContext} from '../../../App';\nimport {IAppContext} from '../../types/IAppContext';\nimport {CardsEditorService} from '../cards-editor/CardsEditorService';\nimport {initDefaultCard} from \"../../common/logic/initDefaultCard\";\n\nexport const CardRepeaterContainer: FC<ICardRepeaterContainer> = ({cardsRepeaterService, cardsEditorService}) => {\n\n    const location = useLocation<INavigationState>();\n\n    const history = useHistory();\n\n    const defaultStatisticValue = {\n        inProgress: 0,\n        todo: 0,\n        done: 0\n    };\n\n    const [state, setState] = useState<CardRepeaterContainerState>({\n        card: undefined,\n        isQuestionSide: true,\n        isEditable: false\n    });\n\n    const [statistic, setStatistic] = useState<IStatistic>(defaultStatisticValue);\n\n    useChannel<number, ICard | undefined>(cardsRepeaterService.cardChannel, (card: ICard | undefined) => {\n        setState({\n            card: card,\n            isQuestionSide: true,\n            isEditable: false\n        });\n        cardsRepeaterService.statisticChannel.next('');\n    });\n\n    useChannel<{ card: ICard, cardsGroupID: number }, ICard>(cardsEditorService.cardEditingChannel, (card: ICard) => {\n        setState((prevState) => {\n            return {\n                ...prevState,\n                card: card\n            }\n        });\n    });\n\n    useChannel<number, ICard | null>(cardsRepeaterService.currentCardChannel, (card: ICard | null) => {\n\n        if(card) {\n            setState({\n                card: card,\n                isQuestionSide: true,\n                isEditable: false\n            });\n        } else {\n            cardsRepeaterService.cardChannel.next(location.state ? location.state.cardsGroupID : -1);\n        }\n    });\n\n    useChannel<string, IStatistic>(cardsRepeaterService.statisticChannel, (statistic: IStatistic) => {\n        setStatistic(() => statistic)\n    });\n\n    useChannel<IRepeatingArgs, ICardsGroup[]>(cardsRepeaterService.repeatingResultChannel, () => {\n\n        cardsRepeaterService.cardChannel.next(location.state.cardsGroupID);\n    });\n\n    useConstructor(() => {\n        if (location.state) {\n            cardsRepeaterService.currentCardChannel.next(location.state.cardsGroupID);\n        } else {\n            cardsRepeaterService.currentCardChannel.next(null);\n        }\n        cardsRepeaterService.statisticChannel.next('');\n    });\n\n    const value = useContext<IAppContext>(AppContext);\n\n    const onClick = (isKnown: boolean) => {\n\n        if (state.card) {\n            cardsRepeaterService.repeatingResultChannel.next({\n                isKnown: isKnown,\n                cardID: state.card.id,\n                cardsGroupID: location.state.cardsGroupID\n            });\n        } else {\n            setState({\n                card: undefined,\n                isQuestionSide: false,\n                isEditable: false\n            });\n        }\n    };\n\n    const onClickCard = () => {\n        if (!state.isEditable) {\n            setState({\n                ...state,\n                isQuestionSide: !state.isQuestionSide\n            })\n        }\n    };\n\n    const onBackClick = () => {\n        history.replace(Routs.cardsGroups.path);\n    };\n\n    const onSwitchEditing = () => {\n        setState({\n            ...state,\n            isEditable: !state.isEditable\n        });\n\n        if (state.isEditable) {\n            cardsEditorService.cardEditingChannel.next({\n                card: state.card || initDefaultCard(),\n                cardsGroupID: location.state.cardsGroupID\n            })\n        }\n    };\n\n    const onChangeQuestion = (question: string) => {\n        if (state.card) {\n            const editableCard = {\n                ...state.card,\n                question\n            };\n\n            setState({...state, card: editableCard});\n        }\n    };\n\n    const onChangeAnswer = (answer: string) => {\n        if (state.card) {\n            const editableCard = {\n                ...state.card,\n                answer\n            };\n\n            setState({...state, card: editableCard});\n        }\n    };\n\n    return <CardsRepeaterComponent\n        cardHeight={value.height * 0.55}\n        isQuestionSide={state.isQuestionSide}\n        onClickCard={onClickCard}\n        onClick={onClick}\n        card={state.card}\n        statistic={statistic}\n        onBackClick={onBackClick}\n        onSwitchEditing={onSwitchEditing}\n        isEditable={state.isEditable}\n        onChangeQuestion={onChangeQuestion}\n        onChangeAnswer={onChangeAnswer}\n    />\n};\n\ninterface CardRepeaterContainerState {\n    card: ICard | undefined,\n    isQuestionSide: boolean,\n    isEditable: boolean,\n}\n\ninterface ICardRepeaterContainer {\n    cardsRepeaterService: CardsRepeaterService;\n    cardsEditorService: CardsEditorService;\n}\n","import * as React from 'react';\nimport {FC, useRef} from 'react';\n\nimport {useChannel} from '../../../MyTools/channel-conception/react-hooks/useChannel';\nimport {LocalBackupsService} from './LocalBackupsService';\nimport {Button} from '@mui/material';\nimport {useUnsubscribe} from '../../../MyTools/react-hooks/useUnsubscribe';\nimport {ConfirmDialogService} from '../../parts/confirm-dialog/ConfirmDialogService';\nimport {SpinnerService} from '../../parts/spinner/SpinnerService';\n\nexport const LocalBackupsContainer: FC<ILocalBackupsContainer> = ({localBackupsService, confirmDialogService, spinnerService}) => {\n\n    const fileBuffer = useRef(null);\n\n    useChannel(\n        localBackupsService.localBackupChannel\n    );\n\n    useChannel(\n        localBackupsService.loadBackupChannel, () => {\n            spinnerService.spinnerCounterChannel.next(-1);\n        }\n    );\n\n    const { setSubscription } = useUnsubscribe();\n\n    const handleFileSelect = (event: any) => {\n        const file = event.target.files[0];\n        if (!file) {\n            return;\n        }\n        const reader = new FileReader();\n        reader.onload = (readerEvent: any) => {\n            const games: string = readerEvent.target.result;\n\n            const subscription = confirmDialogService.confirmationChannel.subscribe((isConfirm) => {\n                if (isConfirm) {\n                    spinnerService.spinnerCounterChannel.next(1);\n                    localBackupsService.loadBackupChannel.next(games);\n                }\n\n                confirmDialogService.openDialogChannel.next({\n                    isOpen: false,\n                    message: ''\n                })\n            });\n\n            setSubscription(subscription);\n\n            confirmDialogService.openDialogChannel.next({\n                isOpen: true,\n                message: 'Do you want to load this backup, your current changes could be removed?'\n            });\n        };\n        reader.readAsText(file);\n    };\n\n    return <>\n        <input type=\"file\" onChange={handleFileSelect}/>\n        <a ref={fileBuffer}></a>\n        <Button size=\"small\" onClick={() => localBackupsService.localBackupChannel.next()}>\n            Save\n        </Button>\n    </>\n};\n\ninterface ILocalBackupsContainer {\n    localBackupsService: LocalBackupsService;\n    confirmDialogService: ConfirmDialogService;\n    spinnerService: SpinnerService;\n}\n","import * as React from 'react';\nimport {ChangeEvent, FC} from 'react';\nimport {Button, TextField} from '@mui/material';\nimport './CardsGroupsEditorComponent.css'\n\nexport const CardsGroupsEditorComponent: FC<ICardsGroupsEditorComponent> = ({groupName, onChangeGroupName, onSaveGroup}) => {\n\n    const onChange = (event: ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n        onChangeGroupName(event.target.value);\n    };\n\n    return <div className=\"group-editor\">\n        <TextField\n            className=\"group-editor_text\"\n            required\n            id=\"outlined-required\"\n            label=\"Group name\"\n            onChange={onChange}\n            value={groupName}\n            variant=\"filled\"\n        />\n        <Button variant=\"outlined\" className=\"group-editor_button\" size=\"small\" onClick={() => onSaveGroup()}>\n            Save\n        </Button>\n    </div>\n};\n\ninterface ICardsGroupsEditorComponent {\n    groupName: string;\n    onChangeGroupName: (groupName: string) => void;\n    onSaveGroup: () => void;\n}\n","import * as React from 'react';\nimport {FC, useState} from 'react';\nimport {useHistory, useLocation} from 'react-router';\n\nimport {useChannel} from '../../../MyTools/channel-conception/react-hooks/useChannel';\nimport {ICardsGroup} from '../../types/ICardsGroup';\nimport {CardsGroupsEditorService} from './CardsGroupsEditorService';\nimport {CardsGroupsEditorComponent} from './CardsGroupsEditorComponent';\nimport {INavigationState} from '../../types/INavigationState';\nimport {useConstructor} from '../../../MyTools/react-hooks/useConstructor';\n\nexport const CardsGroupsEditorContainer: FC<ICardsGroupsEditorContainer> = ({cardsGroupsEditorService}) => {\n\n    const location = useLocation<INavigationState>();\n\n    const history = useHistory();\n\n    const [state, setState] = useState<CardsGroupsEditorState>({\n        cardsGroup: {\n            cards: [],\n            nameCardsGroup: '',\n            repeatingDate: new Date().getTime(),\n            id: new Date().getTime(),\n            percentRepeatedCards: 0\n        }\n    });\n\n    useChannel<ICardsGroup, ICardsGroup[]>(cardsGroupsEditorService.groupEditingChannel, () => {\n        history.goBack();\n    });\n\n    useChannel<number, ICardsGroup>(cardsGroupsEditorService.groupChannel, (cardsGroup: ICardsGroup) => {\n        setState({\n            cardsGroup\n        })\n    });\n\n    useConstructor(() => {\n        let cardsGroupID = location.state ? location.state.cardsGroupID : -1;\n        cardsGroupsEditorService.groupChannel.next(cardsGroupID);\n    });\n\n    const onChangeGroupName = (groupName: string) => {\n        setState({\n            cardsGroup: {\n                ...state.cardsGroup,\n                nameCardsGroup: groupName\n            }\n        })\n    };\n\n    const onSaveGroup = () => {\n        cardsGroupsEditorService.groupEditingChannel.next(state.cardsGroup);\n    };\n\n    return <CardsGroupsEditorComponent\n        groupName={state.cardsGroup.nameCardsGroup}\n        onChangeGroupName={onChangeGroupName}\n        onSaveGroup={onSaveGroup}\n    />\n};\n\ninterface CardsGroupsEditorState {\n    cardsGroup: ICardsGroup\n}\n\ninterface ICardsGroupsEditorContainer {\n    cardsGroupsEditorService: CardsGroupsEditorService\n}\n","import * as React from 'react';\nimport {FC} from 'react';\nimport {Button, MenuItem, Select, SelectChangeEvent} from '@mui/material';\nimport './CardsEditorComponent.css'\nimport {ISimplifiedCardsGroup} from '../../types/ISimplifiedCardsGroup';\nimport {TextEditorComponent} from '../../common/elements/text-editor/TextEditorComponent';\n\nexport const CardsEditorComponent: FC<ICardsGroupsEditorComponent> = (\n    {\n        answer,\n        question,\n        onChangeAnswer,\n        onChangeQuestion,\n        onSaveCard,\n        cardsGroups,\n        currentCardsGroup,\n        onChangeCardsGroup\n    }\n) => {\n\n    const changeGroup = (event: SelectChangeEvent) => {\n        onChangeCardsGroup(Number(event.target.value));\n    };\n\n    return <div className=\"cards-editor\">\n        <TextEditorComponent onChangeText={onChangeQuestion} changeableText={question} label=\"Question\"/>\n        <TextEditorComponent onChangeText={onChangeAnswer} changeableText={answer} label=\"Answer\"/>\n        <Select\n            labelId=\"demo-simple-select-label\"\n            id=\"demo-simple-select\"\n            className=\"cards-editor_text\"\n            value={currentCardsGroup.id.toString()}\n            label={currentCardsGroup.nameCardsGroup}\n            onChange={changeGroup}\n            autoWidth\n        >\n            {cardsGroups.map((cardsGroup: ISimplifiedCardsGroup) => (\n                <MenuItem\n                    key={cardsGroup.id}\n                    value={cardsGroup.id.toString()}\n                >\n                    {cardsGroup.nameCardsGroup}\n                </MenuItem>\n            ))}\n        </Select>\n        <Button variant=\"outlined\" className=\"group-editor_button\" size=\"small\" onClick={() => onSaveCard()}>\n            Save\n        </Button>\n    </div>\n};\n\ninterface ICardsGroupsEditorComponent {\n    answer: string;\n    question: string;\n    onChangeAnswer: (answer: string) => void;\n    onChangeQuestion: (question: string) => void;\n    onSaveCard: () => void;\n    currentCardsGroup: ISimplifiedCardsGroup;\n    cardsGroups: ISimplifiedCardsGroup[];\n    onChangeCardsGroup: (cardsGroupID: number) => void;\n}\n","import * as React from 'react';\nimport {FC, useState} from 'react';\nimport {useHistory, useLocation} from 'react-router';\n\nimport {useChannel} from '../../../MyTools/channel-conception/react-hooks/useChannel';\nimport {CardsEditorService} from './CardsEditorService';\nimport {CardsEditorComponent} from './CardsEditorComponent';\nimport {INavigationState} from '../../types/INavigationState';\nimport {useConstructor} from '../../../MyTools/react-hooks/useConstructor';\nimport {ICard} from '../../types/ICard';\nimport {ISimplifiedCardsGroup} from '../../types/ISimplifiedCardsGroup';\nimport {initDefaultCard} from \"../../common/logic/initDefaultCard\";\n\nexport const CardsEditorContainer: FC<ICardsGroupsEditorContainer> = ({cardsEditorService}) => {\n\n    const location = useLocation<INavigationState>();\n\n    const history = useHistory();\n\n    const [state, setState] = useState<CardsGroupsEditorState>({\n        card: initDefaultCard(),\n        currentCardsGroup: {\n            id: 0,\n            nameCardsGroup: ''\n        },\n        cardsGroups: []\n    });\n\n    useChannel<{ card: ICard, cardsGroupID: number }, ICard>(cardsEditorService.cardEditingChannel, () => {\n        history.goBack();\n    });\n\n    useChannel<number, { currentCardsGroup: ISimplifiedCardsGroup | undefined, cardsGroups: ISimplifiedCardsGroup[] }>(\n        cardsEditorService.simplifiedCardsGroupsChannel,\n        ({currentCardsGroup, cardsGroups}) => {\n            if (currentCardsGroup) {\n                setState((prevState) => { return  {\n                    ...prevState,\n                    cardsGroups,\n                    currentCardsGroup\n                }})\n            } else {\n                setState((newState) =>{ return  {\n                    ...newState,\n                    currentCardsGroup: state.currentCardsGroup,\n                    cardsGroups\n                }})\n            }\n        }\n    );\n\n    useChannel<{ cardID: number, cardsGroupID: number }, ICard | undefined>(cardsEditorService.cardChannel, (card: ICard | undefined) => {\n        if (card) {\n            setState({\n                ...state,\n                card\n            })\n        }\n    });\n\n    useConstructor(() => {\n        let cardsGroupID = location.state ? location.state.cardsGroupID : -1;\n        let cardID = location.state ? location.state.cardID : -1;\n        cardsEditorService.cardChannel.next({cardID, cardsGroupID});\n\n        cardsEditorService.simplifiedCardsGroupsChannel.next(cardsGroupID);\n    });\n\n    const onChangeQuestion = (question: string) => {\n        setState({\n            card: {\n                ...state.card,\n                question\n            },\n            currentCardsGroup: state.currentCardsGroup,\n            cardsGroups: state.cardsGroups\n        })\n    };\n\n    const onChangeAnswer = (answer: string) => {\n        setState({\n            card: {\n                ...state.card,\n                answer\n            },\n            currentCardsGroup: state.currentCardsGroup,\n            cardsGroups: state.cardsGroups\n        })\n    };\n\n    const onChangeCardsGroup = (cardsGroupID: number) => {\n        cardsEditorService.simplifiedCardsGroupsChannel.next(cardsGroupID);\n    };\n\n    const onSaveCard = () => {\n        cardsEditorService.cardEditingChannel.next({card: state.card, cardsGroupID: state.currentCardsGroup.id});\n    };\n\n    return <CardsEditorComponent\n        question={state.card.question}\n        answer={state.card.answer}\n        onChangeQuestion={onChangeQuestion}\n        onChangeAnswer={onChangeAnswer}\n        onSaveCard={onSaveCard}\n        currentCardsGroup={state.currentCardsGroup}\n        cardsGroups={state.cardsGroups}\n        onChangeCardsGroup={onChangeCardsGroup}\n    />\n};\n\ninterface CardsGroupsEditorState {\n    card: ICard;\n    currentCardsGroup: ISimplifiedCardsGroup;\n    cardsGroups: ISimplifiedCardsGroup[];\n}\n\ninterface ICardsGroupsEditorContainer {\n    cardsEditorService: CardsEditorService\n}\n","import * as React from 'react';\nimport {ChangeEvent, FC} from 'react';\nimport './SettingsComponent.css'\nimport {ISettings} from '../../types/ISettings';\nimport {FormControlLabel, FormGroup, Switch} from '@mui/material';\n\nexport const SettingsComponent: FC<ISettingsComponent> = ({settings, onChange}) => {\n\n    const onChangeAlgorithm = (event: ChangeEvent<HTMLInputElement>) => {\n         onChange({...settings, isRandomRepeating: event.target.checked})\n    };\n\n    return <FormGroup className=\"settings-form\">\n        <FormControlLabel\n            control={\n                <Switch\n                    checked={settings.isRandomRepeating}\n                    onChange={onChangeAlgorithm}\n                />\n            }\n            label=\"Random repeating algorithm\"\n        />\n    </FormGroup>\n};\n\ninterface ISettingsComponent {\n    settings: ISettings\n    onChange: (settings: ISettings) => void\n}\n","import * as React from 'react';\nimport {FC, useState} from 'react';\n\nimport {useChannel} from '../../../MyTools/channel-conception/react-hooks/useChannel';\nimport {SettingsService} from './SettingsService';\nimport {SettingsComponent} from './SettingsComponent';\nimport {useConstructor} from '../../../MyTools/react-hooks/useConstructor';\nimport {ISettings} from '../../types/ISettings';\n\nexport const SettingsContainer: FC<ISettingsContainer> = ({settingsService}) => {\n\n    const [state, setState] = useState<ISettings>({\n        isRandomRepeating: false\n    });\n\n    useChannel<ISettings, ISettings>(\n        settingsService.changeSettingsChannel,\n        () => {\n            settingsService.settingsChannel.next('');\n        }\n    );\n\n    useChannel<string, ISettings>(\n        settingsService.settingsChannel,\n        (settings: ISettings) => {\n            setState((prevState) => {\n                return {...prevState, ...settings}\n            });\n        }\n    );\n\n    useConstructor(() => {\n        settingsService.settingsChannel.next('');\n    });\n\n    const onChangeSettings = (settings: ISettings) => {\n        settingsService.changeSettingsChannel.next(settings)\n    };\n\n    return <SettingsComponent settings={state} onChange={onChangeSettings}/>\n};\n\ninterface ISettingsContainer {\n    settingsService: SettingsService\n}\n","import React, {FC} from \"react\";\n\nimport {\n    CardsHeaderComponent\n} from \"../../common/elements/cards-header/CardsHeaderComponent\";\nimport {QuestionCardComponent} from \"../../common/elements/question-card/QuestionCardComponent\";\nimport {AnswerCardComponent} from \"../../common/elements/answer-card/AnswerCardComponent\";\nimport {ICard} from \"../../types/ICard\";\n\nexport const CardViewerComponent: FC<ICardViewerComponent> = (\n    {\n        card,\n        cardHeight,\n        isQuestionSide,\n        onClickCard,\n        onClick,\n        onSwitchEditing,\n        isEditable,\n        onChangeAnswer,\n        onChangeQuestion\n    }\n) => {\n\n    return <div className=\"cards-repeater\">\n        <CardsHeaderComponent\n            isQuestionSide={isQuestionSide}\n            isEditable={isEditable}\n            onSwitchEditing={onSwitchEditing}\n        />\n        {\n            isQuestionSide ?\n                <QuestionCardComponent\n                    card={card}\n                    onClickCard={onClickCard}\n                    cardHeight={cardHeight}\n                    isEditable={isEditable}\n                    onChangeQuestion={onChangeQuestion}\n                /> :\n                <AnswerCardComponent\n                    card={card}\n                    onClickText={onClickCard}\n                    cardHeight={cardHeight}\n                    onClick={onClick}\n                    onChangeAnswer={onChangeAnswer}\n                    isEditable={isEditable}\n                />\n        }\n    </div>\n};\n\ninterface ICardViewerComponent {\n    card: ICard | undefined;\n    onClick: (isUnderstandable: boolean) => void;\n    isQuestionSide: boolean;\n    onClickCard: () => void;\n    cardHeight: number;\n    onBackClick: () => void;\n    onSwitchEditing: () => void;\n    isEditable: boolean;\n    onChangeQuestion: (question: string) => void;\n    onChangeAnswer: (answer: string) => void;\n}","import React, {FC, useContext, useState} from \"react\";\n\nimport {CardViewerService} from \"./CardViewerService\";\nimport {ICard} from \"../../types/ICard\";\nimport {useHistory, useLocation} from \"react-router\";\nimport {INavigationState} from \"../../types/INavigationState\";\nimport {useChannel} from \"../../../MyTools/channel-conception/react-hooks/useChannel\";\nimport {IRepeatingArgs} from \"../../types/IRepeatingArgs\";\nimport {ICardsGroup} from \"../../types/ICardsGroup\";\nimport {IAppContext} from \"../../types/IAppContext\";\nimport {AppContext} from \"../../../App\";\nimport {Routs} from \"../../common/Routs\";\nimport {CardsEditorService} from \"../cards-editor/CardsEditorService\";\nimport {CardViewerComponent} from \"./CardViewerComponent\";\nimport {useConstructor} from \"../../../MyTools/react-hooks/useConstructor\";\nimport {initDefaultCard} from \"../../common/logic/initDefaultCard\";\n\nexport const CardViewerContainer: FC<ICardViewerContainer> = (\n    {\n        cardViewerService,\n        cardsEditorService\n    }\n) => {\n\n    const location = useLocation<INavigationState>();\n\n    const history = useHistory();\n\n    const [state, setState] = useState<CardViewerContainerState>({\n        card: undefined,\n        isQuestionSide: true,\n        isEditable: false\n    });\n\n    useChannel<number, ICard | undefined>(cardViewerService.cardChannel, (card: ICard | undefined) => {\n        setState((prevState) => {\n            return {\n                ...prevState,\n                card: card\n            }\n        });\n    });\n\n    useChannel<{ card: ICard, cardsGroupID: number }, ICard>(cardsEditorService.cardEditingChannel, (card: ICard) => {\n        setState((prevState) => {\n            return {\n                ...prevState,\n                card: card\n            }\n        });\n    });\n\n    useChannel<IRepeatingArgs, ICardsGroup[]>(cardViewerService.repeatingResultChannel, () => {\n        cardViewerService.cardChannel.next(location.state.cardID);\n    });\n\n    useConstructor(() => {\n        cardViewerService.cardChannel.next(location.state.cardID);\n    })\n\n    const value = useContext<IAppContext>(AppContext);\n\n    const onClick = (isKnown: boolean) => {\n\n        if (state.card) {\n            cardViewerService.repeatingResultChannel.next({\n                isKnown: isKnown,\n                cardID: state.card.id,\n                cardsGroupID: location.state.cardsGroupID\n            });\n        } else {\n            setState({\n                card: undefined,\n                isQuestionSide: false,\n                isEditable: false\n            });\n        }\n    };\n\n    const onClickCard = () => {\n        if (!state.isEditable) {\n            setState({\n                ...state,\n                isQuestionSide: !state.isQuestionSide\n            })\n        }\n    };\n\n    const onBackClick = () => {\n        history.replace(Routs.cardsGroups.path);\n    };\n\n    const onSwitchEditing = () => {\n        setState({\n            ...state,\n            isEditable: !state.isEditable\n        });\n\n        if (state.isEditable) {\n            cardsEditorService.cardEditingChannel.next({\n                card: state.card || initDefaultCard(),\n                cardsGroupID: location.state.cardsGroupID\n            })\n        }\n    };\n\n    const onChangeQuestion = (question: string) => {\n        if (state.card) {\n            const editableCard = {\n                ...state.card,\n                question\n            };\n\n            setState({...state, card: editableCard});\n        }\n    };\n\n    const onChangeAnswer = (answer: string) => {\n        if (state.card) {\n            const editableCard = {\n                ...state.card,\n                answer\n            };\n\n            setState({...state, card: editableCard});\n        }\n    };\n\n    return <CardViewerComponent\n        cardHeight={value.height * 0.55}\n        isQuestionSide={state.isQuestionSide}\n        onClickCard={onClickCard}\n        onClick={onClick}\n        card={state.card}\n        onBackClick={onBackClick}\n        onSwitchEditing={onSwitchEditing}\n        isEditable={state.isEditable}\n        onChangeQuestion={onChangeQuestion}\n        onChangeAnswer={onChangeAnswer}\n    />\n}\n\ninterface ICardViewerContainer {\n    cardViewerService: CardViewerService;\n    cardsEditorService: CardsEditorService;\n}\n\ninterface CardViewerContainerState {\n    card: ICard | undefined,\n    isQuestionSide: boolean,\n    isEditable: boolean,\n}","import * as React from 'react';\nimport {FC} from 'react';\nimport {Redirect, Route, Switch} from 'react-router';\n\nimport {Routs} from '../../common/Routs';\nimport {CardsGroupsListContainer} from '../../pages/cards-groups-list/CardsGroupsListContainer';\nimport {GoogleAuthContainer} from '../../pages/google-auth/GoogleAuthContainer';\nimport {GoogleBackupsContainer} from '../../pages/google-backups/GoogleBackupsContainer';\nimport {CardsListContainer} from '../../pages/cards-list/CardsListContainer';\nimport {CardRepeaterContainer} from '../../pages/cards-repeater/CardsRepeaterContainer';\nimport {LocalBackupsContainer} from '../../pages/local-backup/LocalBackupsContainer';\nimport {CardsGroupsEditorContainer} from '../../pages/cards-groups-editor/CardsGroupsEditorContainer';\nimport {CardsGroupsListService} from '../../pages/cards-groups-list/CardsGroupsListService';\nimport {CardsGroupsEditorService} from '../../pages/cards-groups-editor/CardsGroupsEditorService';\nimport {ErrorService} from '../error-container/ErrorService';\nimport {GoogleAuthService} from '../../pages/google-auth/GoogleAuthService';\nimport {GoogleBackupsService} from '../../pages/google-backups/GoogleBackupsService';\nimport {SpinnerService} from '../spinner/SpinnerService';\nimport {ConfirmDialogService} from '../confirm-dialog/ConfirmDialogService';\nimport {CardsEditorContainer} from '../../pages/cards-editor/CardsEditorContainer';\nimport {CardsEditorService} from '../../pages/cards-editor/CardsEditorService';\nimport {CardsListService} from '../../pages/cards-list/CardsListService';\nimport {CardsRepeaterService} from '../../pages/cards-repeater/CardsRepeaterService';\nimport {LocalBackupsService} from '../../pages/local-backup/LocalBackupsService';\nimport {SettingsContainer} from '../../pages/settings/SettingsContainer';\nimport {SettingsService} from '../../pages/settings/SettingsService';\nimport {CardViewerContainer} from \"../../pages/card-viewer/CardViewerContainer\";\nimport {CardViewerService} from \"../../pages/card-viewer/CardViewerService\";\n\n\nexport const NavigationContainer: FC<INavigationContainer> = (\n    {\n        cardsGroupsListService,\n        cardsGroupsEditorService,\n        errorService,\n        googleAuthService,\n        googleBackupsService,\n        spinnerService,\n        confirmDialogService,\n        cardsEditorService,\n        cardsListService,\n        cardsRepeaterService,\n        settingsService,\n        localBackupsService,\n        cardViewerService\n    }\n) => {\n\n    return <Switch>\n        <Redirect exact from=\"/MyCardsWeb\" to={Routs.cardsGroups.path}/>\n        <Redirect exact from=\"/\" to={Routs.cardsGroups.path}/>\n        <Route path={Routs.cardsGroups.path}>\n            <CardsGroupsListContainer cardsGroupsListService={cardsGroupsListService}\n                                      confirmDialogService={confirmDialogService}/>\n        </Route>\n        <Route path={Routs.googleAuth.path}>\n            <GoogleAuthContainer googleAuthService={googleAuthService} errorService={errorService}/>\n        </Route>\n        <Route path={Routs.googleBackups.path}>\n            <GoogleBackupsContainer googleBackupsService={googleBackupsService} spinnerService={spinnerService}\n                                    confirmDialogService={confirmDialogService}/>\n        </Route>\n        <Route path={Routs.cards.path}>\n            <CardsListContainer cardsListService={cardsListService} confirmDialogService={confirmDialogService}/>\n        </Route>\n        <Route path={Routs.cardsRepeater.path}>\n            <CardRepeaterContainer cardsRepeaterService={cardsRepeaterService} cardsEditorService={cardsEditorService}/>\n        </Route>\n        <Route path={Routs.localBackups.path}>\n            <LocalBackupsContainer localBackupsService={localBackupsService} confirmDialogService={confirmDialogService}\n                                   spinnerService={spinnerService}/>\n        </Route>\n        <Route path={Routs.cardsGroupEditor.path}>\n            <CardsGroupsEditorContainer cardsGroupsEditorService={cardsGroupsEditorService}/>\n        </Route>\n        <Route path={Routs.cardsEditor.path}>\n            <CardsEditorContainer cardsEditorService={cardsEditorService}/>\n        </Route>\n        <Route path={Routs.settings.path}>\n            <SettingsContainer settingsService={settingsService}/>\n        </Route>\n        <Route path={Routs.cardViewer.path}>\n            <CardViewerContainer\n                cardViewerService={cardViewerService}\n                cardsEditorService={cardsEditorService}\n            />\n        </Route>\n    </Switch>\n};\n\ninterface INavigationContainer {\n    cardsGroupsListService: CardsGroupsListService;\n    cardsGroupsEditorService: CardsGroupsEditorService;\n    errorService: ErrorService;\n    googleAuthService: GoogleAuthService;\n    googleBackupsService: GoogleBackupsService;\n    spinnerService: SpinnerService;\n    confirmDialogService: ConfirmDialogService;\n    cardsEditorService: CardsEditorService;\n    cardsListService: CardsListService;\n    cardsRepeaterService: CardsRepeaterService;\n    localBackupsService: LocalBackupsService;\n    settingsService: SettingsService;\n    cardViewerService: CardViewerService;\n}\n","import {Observable, of} from 'rxjs';\nimport {map, switchMap, tap} from 'rxjs/operators';\nimport {ajax, AjaxResponse} from 'rxjs/ajax';\n\nimport {StorageService} from '../../common/services/StorageService';\nimport {IGoogleDriveFile} from '../../types/IGoogleDriveFile';\nimport {ICardsGroup} from '../../types/ICardsGroup';\nimport {Channel} from '../../../MyTools/channel-conception/Channel';\nimport {formatCreatedDate} from './logic/formatCreatedDate';\n\nexport class GoogleBackupsService {\n\n    public backupsNameLoadChannel: Channel<string, IGoogleDriveFile[]>;\n    public backupLoadChannel: Channel<string, ICardsGroup[]>;\n    public backupUploadChannel: Channel<void, string>;\n    public backupDeleteChannel: Channel<string, AjaxResponse<string>>;\n\n    private backupFileName = 'my-cards.json';\n    private backupFolderName = 'my-cards';\n    private googleDriveFilesAPI = 'https://www.googleapis.com/drive/v3/files/';\n    private googleDriveUploadAPI = \"https://www.googleapis.com/upload/drive/v3/files/\";\n    private searchFilesURI = this.googleDriveFilesAPI + '?fields=files(id,createdTime)&q=name%20contains%20';\n    private searchFolderURI = this.googleDriveFilesAPI + '?q=name%20contains%20';\n    private getFilesAdditionalPartURI = '?alt=media';\n    private googleDriveFolderType = 'application/vnd.google-apps.folder';\n\n    constructor(private storageService: StorageService) {\n\n        this.backupsNameLoadChannel = new Channel(() => of('').pipe(\n            switchMap(() => storageService.getAuthToken()),\n            switchMap(\n                (authToken: string): Observable<IGoogleDriveFile[]> => this.getBackupFiles(authToken)\n            ),\n            map((googleDriveFiles: IGoogleDriveFile[]) => formatCreatedDate(googleDriveFiles))\n        ));\n\n        this.backupLoadChannel = new Channel((backupID: string) => of('').pipe(\n            switchMap((): Observable<ICardsGroup[]> => this.loadBackupFile(backupID))\n        ));\n\n        this.backupUploadChannel = new Channel(() => of('').pipe(\n            switchMap(() => storageService.getAuthToken()),\n            switchMap((authToken: string) => this.createNewBackup(authToken))\n        ));\n\n        this.backupDeleteChannel = new Channel((fileID: string) => of(\"\").pipe(\n            switchMap(() => this.deleteBackupFile(fileID)),\n            tap(() => {\n                this.backupsNameLoadChannel.next('')\n            })\n        ));\n    }\n\n    public createNewBackup(authToken: string): Observable<string> {\n        return this.getBackupFolder(authToken)\n            .pipe(\n                switchMap((folders: IGoogleDriveFile[]) => {\n                    if (folders) {\n                        let foundedFolder = folders.find((file) => {\n                            return file.mimeType === this.googleDriveFolderType\n                        });\n                        if (foundedFolder) {\n                            return of(foundedFolder.id);\n                        } else {\n                            return this.createBackupFolder(authToken);\n                        }\n                    } else {\n                        return this.createBackupFolder(authToken);\n                    }\n                }),\n                switchMap((folderId: string) => {\n                    return this.createNewBackupFile(\n                        authToken,\n                        folderId\n                    );\n                }),\n                switchMap((fileId: string) => {\n                    return this.uploadBackupFile(\n                        authToken,\n                        fileId\n                    )\n                }),\n                tap(() => {\n                    this.backupsNameLoadChannel.next('');\n                })\n            );\n    }\n\n    public getBackupFiles(token: string): Observable<IGoogleDriveFile[]> {\n        return ajax<{files: IGoogleDriveFile[]}>(\n            {\n                url: `${this.searchFilesURI}'${this.backupFileName}'`,\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                },\n                method: 'GET'\n            }\n        ).pipe(\n            map((result: AjaxResponse<{files: IGoogleDriveFile[]}>) => {\n                return result.response.files;\n            })\n        );\n    }\n\n    public loadBackupFile(fileId: string): Observable<ICardsGroup[]> {\n        return this.storageService.getAuthToken().pipe(\n            switchMap((authToken: string) => ajax<ICardsGroup[]>(\n                {\n                    url: this.googleDriveFilesAPI + fileId + this.getFilesAdditionalPartURI,\n                    headers: {\n                        \"Authorization\": \"Bearer \" + authToken\n                    },\n                    method: \"GET\"\n                }\n            )),\n            map((result: AjaxResponse<ICardsGroup[]>) => {\n                this.storageService.setBackup(result.response);\n                return result.response;\n            })\n        );\n    }\n\n\n    public getBackupFolder(token: string): Observable<IGoogleDriveFile[]> {\n        return ajax<{files:IGoogleDriveFile[]}>(\n            {\n                url: `${this.searchFolderURI}'${this.backupFolderName}'`,\n                headers: {\n                    'Authorization': 'Bearer ' + token\n                },\n                method: 'GET'\n            }\n        ).pipe(\n            map((result: AjaxResponse<{files:IGoogleDriveFile[]}>) => {\n                return result.response.files;\n            })\n        );\n    }\n\n    public deleteBackupFile(fileId: string): Observable<AjaxResponse<string>> {\n        return this.storageService.getAuthToken().pipe(\n            switchMap((authToken: string) => ajax<string>(\n                {\n                    url: this.googleDriveFilesAPI + fileId,\n                    headers: {\n                        'Authorization': 'Bearer ' + authToken,\n                        'Content-Type': 'application/json'\n                    },\n                    method: 'DELETE'\n                }\n            ))\n        );\n    }\n\n    public createNewBackupFile(token: string, id: string): Observable<string> {\n        return ajax<{id:string}>(\n            {\n                url: this.googleDriveFilesAPI,\n                headers: {\n                    'Authorization': 'Bearer ' + token,\n                    'Content-Type': 'application/json'\n                },\n                body: {\n                    parents: [id],\n                    name: this.backupFileName\n                },\n                method: 'POST'\n            }\n        ).pipe(\n            map((result: AjaxResponse<{id:string}>) => {\n                return result.response.id;\n            })\n        );\n    }\n\n    public createBackupFolder(token: string): Observable<string> {\n        return ajax<{id:string}>(\n            {\n                url: this.googleDriveFilesAPI,\n                headers: {\n                    'Authorization': 'Bearer ' + token,\n                    'Content-Type': 'application/json'\n                },\n                body: {\n                    name: this.backupFolderName,\n                    mimeType: 'application/vnd.google-apps.folder'\n                },\n                method: 'POST'\n            }\n        ).pipe(\n            map((result: AjaxResponse<{id:string}>) => {\n                return result.response.id;\n            })\n        );\n    }\n\n    public uploadBackupFile(token: string, fileId: string): Observable<string> {\n        return this.storageService.getBackup().pipe(\n            switchMap((cardsGroups: ICardsGroup[]) => ajax(\n                {\n                    url: this.googleDriveUploadAPI + fileId,\n                    headers: {\n                        'Authorization': 'Bearer ' + token\n                    },\n                    body: JSON.stringify(cardsGroups, null, 4),\n                    responseType: 'text',\n                    method: 'PATCH'\n                }\n            ).pipe(\n                map(() => {\n                    return fileId;\n                })\n            ))\n        )\n    }\n\n}\n","import {IGoogleDriveFile} from '../../../types/IGoogleDriveFile';\n\nexport const formatCreatedDate = (googleDriveFiles: IGoogleDriveFile[]) => {\n    return googleDriveFiles.map((googleDriveFile: IGoogleDriveFile) => {\n        return {...googleDriveFile, createdTime: googleDriveFile.createdTime.slice(0, 10)};\n    });\n};\n","import {from, Observable} from 'rxjs';\nimport {ICardsGroup} from '../../types/ICardsGroup';\nimport {DataBaseService} from './DataBaseService';\nimport {ISettings} from '../../types/ISettings';\n\nexport class StorageService {\n\n    private cardsStorageID = 'cards-local-storage';\n    private authTokenLocalStorageID = 'auth-token';\n    private settingsID = 'settings';\n\n    constructor(private dataBaseService: DataBaseService) {\n    }\n\n    public getBackup = () : Observable<ICardsGroup[]> => {\n        return from(this.getBackupFromDataBase());\n    };\n\n    private getBackupFromDataBase = async () => {\n        let backup = null;\n\n        try {\n            backup = await this.dataBaseService.get<ICardsGroup[]>(this.cardsStorageID);\n        } catch (e) {\n            console.error(e);\n            return backup;\n        }\n        if(backup) {\n            return backup;\n        } else {\n            return [];\n        }\n    };\n\n    public setBackup(cardsGroups: ICardsGroup[]): Observable<ICardsGroup[]> {\n        return from(this.setBackupToDataBase(cardsGroups));\n    }\n\n    private setBackupToDataBase = async (cardsGroups: ICardsGroup[]) => {\n        try {\n            await this.dataBaseService.set(this.cardsStorageID, cardsGroups);\n        } catch (e) {\n            console.error(e);\n        }\n        return cardsGroups;\n    };\n\n    public getAuthToken(): Observable<string> {\n        return from(new Promise<string>((resolve, reject) => {\n            const authToken = localStorage.getItem(this.authTokenLocalStorageID);\n            if(authToken) {\n                resolve(authToken);\n            } else {\n                reject('Auth token is empty')\n            }\n        }));\n    }\n\n    public setAuthToken(authToken: string): Observable<string> {\n        return from(new Promise<string>((resolve) => {\n            localStorage.setItem(this.authTokenLocalStorageID, authToken);\n            resolve(authToken);\n        }));\n    }\n\n    public getSettings(): Observable<ISettings> {\n        return from(new Promise<ISettings>((resolve, reject) => {\n            const settings = localStorage.getItem(this.settingsID);\n            if(settings) {\n                resolve(JSON.parse(settings) as ISettings);\n            } else {\n                resolve({\n                    isRandomRepeating: false\n                })\n            }\n        }));\n    }\n\n    public setSettings(settings: ISettings): Observable<ISettings> {\n        return from(new Promise<ISettings>((resolve) => {\n            localStorage.setItem(this.settingsID, JSON.stringify(settings));\n            resolve(settings);\n        }));\n    }\n}\n","import {ICardsGroup} from '../../../types/ICardsGroup';\nimport {ICard} from '../../../types/ICard';\n\nexport const getCardsByGroupID = (cardsGroups: ICardsGroup[], cardsGroupID: number | null) => {\n\n    const foundCardsGroup = cardsGroups.find((cardsGroup: ICardsGroup) => {\n        return !cardsGroupID || cardsGroup.id === cardsGroupID;\n    });\n\n    let foundCards: Array<ICard> = [];\n\n    if (foundCardsGroup) {\n        foundCards = foundCardsGroup.cards;\n    }\n\n    return foundCards;\n};\n","import {IRepeatingArgs} from '../../types/IRepeatingArgs';\nimport {ICardsGroup} from '../../types/ICardsGroup';\nimport {ICard} from '../../types/ICard';\nimport {IRangeOfKnowledge} from '../../types/IRangeOfKnowledge';\n\nexport const changeRangeOfKnowledge = (args: IRepeatingArgs, cardsGroups: ICardsGroup[]) => {\n    cardsGroups.forEach((cardsGroup: ICardsGroup) => {\n        if (!args.cardsGroupID || cardsGroup.id === args.cardsGroupID) {\n            cardsGroup.cards.forEach((card: ICard) => {\n                if (!args.cardID || card.id === args.cardID) {\n                    if (args.isKnown && card.rangeOfKnowledge === IRangeOfKnowledge.IN_PROGRESS) {\n                        card.rangeOfKnowledge = IRangeOfKnowledge.DONE;\n                    } else if (args.isKnown && card.rangeOfKnowledge === IRangeOfKnowledge.TO_DO) {\n                        card.rangeOfKnowledge = IRangeOfKnowledge.DONE;\n                    } else if (!args.isKnown && card.rangeOfKnowledge === IRangeOfKnowledge.TO_DO) {\n                        card.rangeOfKnowledge = IRangeOfKnowledge.IN_PROGRESS;\n                    }\n                }\n            });\n        }\n    });\n\n\n    return cardsGroups;\n};\n","import {ICard} from '../../../types/ICard';\nimport {IRangeOfKnowledge} from '../../../types/IRangeOfKnowledge';\n\nexport const getCardForRepeating = (cards: ICard[], isRandomRepeating: boolean) => {\n\n    let foundCard\n\n    if(!isRandomRepeating) {\n        foundCard = cards.find((card: ICard) => {\n            return card.rangeOfKnowledge === IRangeOfKnowledge.TO_DO;\n        });\n\n        if (!foundCard) {\n            foundCard = cards.find((card: ICard) => {\n                return card.rangeOfKnowledge === IRangeOfKnowledge.IN_PROGRESS;\n            });\n        }\n\n        if (cards.length === 1) {\n            foundCard = cards[0]\n        }\n    } else {\n        const cardsWithoutDone = cards.filter((card: ICard) => {\n            return card.rangeOfKnowledge !== IRangeOfKnowledge.DONE\n        })\n        foundCard = cardsWithoutDone[0];\n    }\n\n    return foundCard\n};\n","import {ICard} from '../../../types/ICard';\nimport {IRangeOfKnowledge} from '../../../types/IRangeOfKnowledge';\nimport {IStatistic} from '../../../types/IStatistic';\n\nexport const getStatistic = (cards: ICard[]): IStatistic => {\n\n    const statisticValue = {\n        inProgress: 0,\n        todo: 0,\n        done: 0\n    };\n\n    cards.forEach((card: ICard) => {\n        if (card.rangeOfKnowledge === IRangeOfKnowledge.IN_PROGRESS) {\n            statisticValue.inProgress = statisticValue.inProgress + 1\n        } else if (card.rangeOfKnowledge === IRangeOfKnowledge.TO_DO) {\n            statisticValue.todo = statisticValue.todo + 1\n        } else {\n            statisticValue.done = statisticValue.done + 1\n        }\n    });\n\n    return statisticValue;\n};\n","import {ICard} from '../../../types/ICard';\n\nexport const shuffleCards = (array: ICard[]) => {\n    const copy = [];\n    let length = array.length;\n    let randomIndex;\n\n    while (length) {\n        randomIndex = Math.floor(Math.random() * array.length);\n        if (randomIndex in array) {\n            copy.push(array[randomIndex]);\n            delete array[randomIndex];\n            length--;\n        }\n    }\n\n    return copy;\n};\n","import {ICard} from '../../../types/ICard';\n\nexport const getFirstCard = (cards: ICard[]): ICard | null => {\n    if (cards.length === 1) {\n        return cards[0];\n    } else {\n        return null;\n    }\n};\n","import {ICardsGroup} from \"../../../types/ICardsGroup\";\nimport {ICard} from \"../../../types/ICard\";\n\nexport const getCardForViewing = (cardsGroups: ICardsGroup[], cardID: number): ICard | undefined => {\n    let card;\n\n    for (let i = 0; i < cardsGroups.length; i++) {\n        const index = cardsGroups[i].cards.findIndex((card: ICard) => {\n            return card.id === cardID\n        })\n\n        if (index > -1) {\n            card = cardsGroups[i].cards[index];\n            return card;\n        }\n    }\n\n    return card;\n}","import React, {useEffect, useState} from 'react';\nimport {BrowserRouter as Router} from \"react-router-dom\";\n\nimport './App.css';\nimport {IAppContext} from './app/types/IAppContext';\nimport {ToolbarContainer} from './app/parts/toolbar/ToolbarContainer';\nimport {NavigationPanelContainer} from './app/parts/navigation-panel/NavigationPanelContainer';\nimport {ErrorContainer} from './app/parts/error-container/ErrorContainer';\nimport {SpinnerContainer} from './app/parts/spinner/SpinnerContainer';\nimport {defaultAppState, STORE_NAME} from './app/common/Constants';\nimport {ConfirmDialogContainer} from './app/parts/confirm-dialog/ConfirmDialogContainer';\nimport {SpinnerService} from './app/parts/spinner/SpinnerService';\nimport {ErrorService} from './app/parts/error-container/ErrorService';\nimport {NavigationContainer} from './app/parts/navigation/NavigationContainer';\nimport {CardsGroupsEditorService} from './app/pages/cards-groups-editor/CardsGroupsEditorService';\nimport {CardsGroupsListService} from './app/pages/cards-groups-list/CardsGroupsListService';\nimport {ConfirmDialogService} from './app/parts/confirm-dialog/ConfirmDialogService';\nimport {GoogleAuthService} from './app/pages/google-auth/GoogleAuthService';\nimport {GoogleBackupsService} from './app/pages/google-backups/GoogleBackupsService';\nimport {CardsEditorService} from './app/pages/cards-editor/CardsEditorService';\nimport {StorageService} from './app/common/services/StorageService';\nimport {CardsListService} from './app/pages/cards-list/CardsListService';\nimport {CardsRepeaterService} from './app/pages/cards-repeater/CardsRepeaterService';\nimport {LocalBackupsService} from './app/pages/local-backup/LocalBackupsService';\nimport {DataBaseService} from './app/common/services/DataBaseService';\nimport {SettingsService} from './app/pages/settings/SettingsService';\nimport {CardViewerService} from \"./app/pages/card-viewer/CardViewerService\";\n\nexport const AppContext = React.createContext<IAppContext>(defaultAppState);\n\nconst errorService = new ErrorService();\nconst spinnerService = new SpinnerService();\n\nconst confirmDialogService= new ConfirmDialogService();\n\nconst dataBaseService = new DataBaseService(STORE_NAME);\nconst storageService = new StorageService(dataBaseService);\nconst cardsGroupsEditorService = new CardsGroupsEditorService(storageService);\nconst cardsGroupsListService = new CardsGroupsListService(storageService);\nconst googleAuthService = new GoogleAuthService(storageService);\nconst googleBackupsService = new GoogleBackupsService(storageService);\nconst cardsEditorService = new CardsEditorService(storageService);\nconst cardsListService = new CardsListService(storageService);\nconst cardsRepeaterService = new CardsRepeaterService(storageService);\nconst localBackupsService = new  LocalBackupsService(storageService);\nconst settingService = new SettingsService(storageService);\nconst cardViewerService = new CardViewerService(storageService);\n\nfunction App() {\n\n    const [appState, setAppState] = useState<IAppContext>(defaultAppState);\n\n    useEffect(() => {\n        const height = window.screen.height;\n        const width = window.screen.width;\n        if (appState.height !== height || appState.width !== width) {\n            setAppState({...appState, height: height, width: width});\n        }\n    }, [appState]);\n\n    return (\n        <>\n            <AppContext.Provider value={appState}>\n                <Router>\n                    <div>\n\n                        <ErrorContainer errorService={errorService}/>\n\n                        <ToolbarContainer/>\n\n                        <NavigationPanelContainer/>\n\n                        <ConfirmDialogContainer confirmDialogService={confirmDialogService}/>\n\n                        <div className=\"page-container\" style={{height: appState.height - 110, width: appState.width}}>\n                            <SpinnerContainer spinnerService={spinnerService}/>\n                            <NavigationContainer\n                                cardsGroupsListService={cardsGroupsListService}\n                                cardsGroupsEditorService={cardsGroupsEditorService}\n                                googleAuthService={googleAuthService}\n                                googleBackupsService={googleBackupsService}\n                                errorService={errorService}\n                                spinnerService={spinnerService}\n                                confirmDialogService={confirmDialogService}\n                                cardsEditorService={cardsEditorService}\n                                cardsListService={cardsListService}\n                                cardsRepeaterService={cardsRepeaterService}\n                                localBackupsService={localBackupsService}\n                                settingsService={settingService}\n                                cardViewerService={cardViewerService}\n                            />\n                        </div>\n                    </div>\n                </Router>\n            </AppContext.Provider>\n        </>\n    );\n}\n\nexport default App;\n","import {of} from 'rxjs';\n\nimport {Channel} from '../../../MyTools/channel-conception/Channel';\n\nexport class ErrorService {\n    public errorChannel: Channel<string, string>;\n\n\n    constructor() {\n        this.errorChannel = new Channel<string, string>((error: string)=> of(error));\n    }\n\n}\n","import {of} from 'rxjs';\nimport {map} from 'rxjs/operators';\n\nimport {Channel} from '../../../MyTools/channel-conception/Channel';\n\nexport class SpinnerService {\n\n    public spinnerCounterChannel: Channel<number, number>;\n\n    private spinnerCounter = 0;\n\n    constructor() {\n        this.spinnerCounterChannel = new Channel((difference: number) => of('').pipe(map(() => {\n            if(this.spinnerCounter + difference >= 0) {\n                this.spinnerCounter = this.spinnerCounter + difference;\n            }\n            return this.spinnerCounter;\n        })))\n    }\n}\n","import {of} from 'rxjs';\nimport {tap} from 'rxjs/operators';\n\nimport {ConfirmDialogContainerState} from './ConfirmDialogContainer';\nimport {Channel} from '../../../MyTools/channel-conception/Channel';\n\nexport class ConfirmDialogService {\n\n    public openDialogChannel = new Channel<ConfirmDialogContainerState, ConfirmDialogContainerState>(\n        (state: ConfirmDialogContainerState) => of(state).pipe(tap((state) => {\n            if(!state.isOpen) {\n                this.confirmationChannel.unsubscribe();\n            }\n        }))\n    );\n\n    public confirmationChannel = new Channel<boolean, boolean>((value: boolean) => of(value));\n}\n\n","import {IDBPDatabase, openDB} from 'idb';\n\nexport class DataBaseService {\n\n    private dataBase: Promise<IDBPDatabase>;\n\n    private DATA_BASE_NAME = \"my-cards-data-base\";\n\n    constructor(private storeName: string) {\n        this.dataBase = openDB(this.DATA_BASE_NAME, 1, {\n            upgrade(db) {\n                db.createObjectStore(storeName);\n            },\n        });\n    }\n\n    get = async <T>(key: string) => {\n        return (await this.dataBase).get(this.storeName, key);\n    };\n\n    set = async <T>(key: string, value: T) => {\n        return (await this.dataBase).put(this.storeName, value, key);\n    };\n}\n","import {map, tap} from 'rxjs/operators';\n\nimport {StorageService} from '../../common/services/StorageService';\nimport {ICardsGroup} from '../../types/ICardsGroup';\nimport {Channel} from '../../../MyTools/channel-conception/Channel';\nimport {saveCardsGroup} from './logic/saveCardsGroup';\nimport {getEditingCardsGroup} from './logic/getEditingCardsGroup';\n\nexport class CardsGroupsEditorService {\n\n    public groupEditingChannel: Channel<ICardsGroup, ICardsGroup[]>;\n    public groupChannel: Channel<number, ICardsGroup>;\n\n    constructor(storageService: StorageService) {\n        this.groupEditingChannel = new Channel((editedCardGroup: ICardsGroup) => storageService.getBackup().pipe(\n            map((cardsGroups: ICardsGroup[]) => saveCardsGroup(editedCardGroup, cardsGroups)),\n            tap((cardsGroups: ICardsGroup[]) => {\n                storageService.setBackup(cardsGroups);\n            })\n        ));\n\n        this.groupChannel = new Channel((cardGroupID: number) => storageService.getBackup().pipe(\n            map((cardsGroups: ICardsGroup[]) => getEditingCardsGroup(cardGroupID, cardsGroups))\n        ))\n    }\n}\n","import {ICardsGroup} from '../../../types/ICardsGroup';\n\nexport const saveCardsGroup = (editedCardGroup: ICardsGroup, cardsGroups: ICardsGroup[]) => {\n        const cardGroupIndex = cardsGroups.findIndex((cardGroup: ICardsGroup) => editedCardGroup.id === cardGroup.id);\n\n        if (cardGroupIndex < 0) {\n            cardsGroups.push(editedCardGroup);\n        } else {\n            cardsGroups[cardGroupIndex] = editedCardGroup;\n        }\n\n        return cardsGroups;\n};\n","import {ICardsGroup} from '../../../types/ICardsGroup';\n\nexport const getEditingCardsGroup = (cardGroupID: number, cardsGroups: ICardsGroup[]): ICardsGroup => {\n\n        let cardsGroup = cardsGroups.find((cardGroup: ICardsGroup) => cardGroupID === cardGroup.id);\n\n        if (!cardsGroup) {\n            cardsGroup = {\n                cards: [],\n                nameCardsGroup: '',\n                repeatingDate: new Date().getTime(),\n                id: new Date().getTime(),\n                percentRepeatedCards: 0\n            }\n        }\n        return cardsGroup;\n};\n","import {map, tap} from 'rxjs/operators';\n\nimport {StorageService} from '../../common/services/StorageService';\nimport {ICardsGroup} from '../../types/ICardsGroup';\nimport {Channel} from '../../../MyTools/channel-conception/Channel';\nimport {updateRepeatingDate} from './logic/updateRepeatingDate';\nimport {sortByRepeatingDate} from './logic/sortByRepeatingDate';\nimport {countRepeatedCardsPercent} from './logic/countRepeatedCardsPercent';\nimport {deleteGroup} from './logic/deleteGroup';\nimport {resetRepeatingProgress} from './logic/resetRepeatingProgress';\n\nexport class CardsGroupsListService {\n    public groupsListChannel: Channel<string, ICardsGroup[]>;\n    public groupDeleteChannel: Channel<number, ICardsGroup[]>;\n    public resetProgressChannel: Channel<number, ICardsGroup[]>;\n\n\n    constructor(storageService: StorageService) {\n        this.groupsListChannel = new Channel(() => storageService.getBackup().pipe(\n            map((cardsGroups: ICardsGroup[]) => updateRepeatingDate(cardsGroups)),\n            map((cardsGroups: ICardsGroup[]) => sortByRepeatingDate(cardsGroups)),\n            map((cardsGroups: ICardsGroup[]) => countRepeatedCardsPercent(cardsGroups))\n        ));\n\n        this.groupDeleteChannel = new Channel((groupID: number) => storageService.getBackup().pipe(\n            map((cardsGroups: ICardsGroup[]) => deleteGroup(groupID, cardsGroups)),\n            tap((cardsGroups: ICardsGroup[]) => storageService.setBackup(cardsGroups))\n        ));\n\n        this.resetProgressChannel = new Channel((cardsGroupID: number) => storageService.getBackup().pipe(\n            map((cardsGroups: ICardsGroup[]) => resetRepeatingProgress(cardsGroupID, cardsGroups)),\n            tap((cardsGroups: ICardsGroup[]) => storageService.setBackup(cardsGroups))\n        ))\n    }\n}\n","import {ICardsGroup} from '../../../types/ICardsGroup';\nimport {ICard} from '../../../types/ICard';\n\nexport const updateRepeatingDate = (cardsGroups: ICardsGroup[]) => {\n        cardsGroups.map((cardsGroup: ICardsGroup) => {\n            let dateRepeating = 0;\n            cardsGroup.cards.forEach((card: ICard) => {\n                if (card.dateRepeating > dateRepeating) {\n                    dateRepeating = card.dateRepeating\n                }\n            });\n            cardsGroup.repeatingDate = dateRepeating;\n            return cardsGroup;\n        });\n        return cardsGroups;\n};\n","import {ICardsGroup} from '../../../types/ICardsGroup';\n\nexport const sortByRepeatingDate = (cardsGroups: ICardsGroup[]) => {\n    return cardsGroups.sort((firstCardGroup: ICardsGroup, secondCardsGroup: ICardsGroup) => {\n        if (firstCardGroup.repeatingDate && secondCardsGroup.repeatingDate) {\n            return secondCardsGroup.repeatingDate - firstCardGroup.repeatingDate;\n        } else {\n            return 0;\n        }\n    })\n};\n","import {ICardsGroup} from '../../../types/ICardsGroup';\nimport {ICard} from '../../../types/ICard';\nimport {IRangeOfKnowledge} from '../../../types/IRangeOfKnowledge';\n\nexport const countRepeatedCardsPercent = (cardsGroups: ICardsGroup[]) => {\n    cardsGroups.map((cardsGroup: ICardsGroup) => {\n        let statusDone = 0;\n        cardsGroup.cards.forEach((card: ICard) => {\n            if (card.rangeOfKnowledge === IRangeOfKnowledge.DONE) {\n                statusDone++\n            }\n        });\n        cardsGroup.percentRepeatedCards = statusDone / cardsGroup.cards.length * 100;\n        return cardsGroup;\n    });\n    return cardsGroups;\n};\n","import {ICardsGroup} from '../../../types/ICardsGroup';\n\nexport const deleteGroup = (groupID: number, cardsGroups: ICardsGroup[]) => {\n    return cardsGroups.filter((cardGroup) => {\n        return cardGroup.id !== groupID;\n    });\n};\n","import {ICardsGroup} from '../../../types/ICardsGroup';\nimport {ICard} from '../../../types/ICard';\nimport {IRangeOfKnowledge} from '../../../types/IRangeOfKnowledge';\n\nexport const resetRepeatingProgress = (cardsGroupID: number, cardsGroups: ICardsGroup[]) => {\n\n    const cardGroupIndex = cardsGroups.findIndex((cardGroup: ICardsGroup) => cardsGroupID === cardGroup.id);\n\n    if (cardGroupIndex < 0) {\n        return cardsGroups;\n    }\n\n    cardsGroups[cardGroupIndex].cards = cardsGroups[cardGroupIndex].cards.map((card: ICard) => {\n        return {\n            ...card,\n            rangeOfKnowledge: IRangeOfKnowledge.TO_DO\n        }\n    });\n\n    return cardsGroups;\n};\n","import {of} from 'rxjs';\nimport {tap} from 'rxjs/operators';\n\nimport {StorageService} from '../../common/services/StorageService';\nimport {Channel} from '../../../MyTools/channel-conception/Channel';\n\nexport class GoogleAuthService {\n    public loginChannel: Channel<string, string>;\n\n\n    constructor(storageService: StorageService) {\n\n        this.loginChannel = new Channel((authToken: string) => of('').pipe(\n            tap(() => {\n                storageService.setAuthToken(authToken)\n            })\n        ));\n    }\n}\n","import {map, tap} from 'rxjs/operators';\n\nimport {StorageService} from '../../common/services/StorageService';\nimport {ICardsGroup} from '../../types/ICardsGroup';\nimport {Channel} from '../../../MyTools/channel-conception/Channel';\nimport {ICard} from '../../types/ICard';\nimport {ISimplifiedCardsGroup} from '../../types/ISimplifiedCardsGroup';\nimport {saveCard} from './logic/saveCard';\nimport {getEditingCard} from './logic/getEditingCard';\nimport {getSimplifiedGroup} from './logic/getSimplifiedGroup';\nimport {addCurrentGroupToSimplifiedGroup} from './logic/addCurrentGroupToSimplifiedGroup';\n\nexport class CardsEditorService {\n\n    public cardEditingChannel: Channel<{ card: ICard, cardsGroupID: number }, ICard>;\n    public simplifiedCardsGroupsChannel: Channel<number, { currentCardsGroup: ISimplifiedCardsGroup | undefined, cardsGroups: ISimplifiedCardsGroup[] }>;\n    public cardChannel: Channel<{ cardID: number, cardsGroupID: number }, ICard | undefined>;\n\n    constructor(storageService: StorageService) {\n        this.cardEditingChannel = new Channel(({card, cardsGroupID}) => storageService.getBackup().pipe(\n            map((cardsGroups: ICardsGroup[]) => saveCard(cardsGroupID, card, cardsGroups)),\n            tap((cardsGroups: ICardsGroup[]) => {\n                storageService.setBackup(cardsGroups);\n            }),\n            map(() => card)\n        ));\n\n        this.cardChannel = new Channel(({cardID, cardsGroupID}) => storageService.getBackup().pipe(\n            map((cardsGroups: ICardsGroup[]) => getEditingCard(cardsGroupID, cardID, cardsGroups))\n        ));\n\n        this.simplifiedCardsGroupsChannel = new Channel((cardsGroupID: number) => storageService.getBackup().pipe(\n            map((cardsGroups: ICardsGroup[]) => getSimplifiedGroup(cardsGroups)),\n            map((cardsGroups: ISimplifiedCardsGroup[]) => addCurrentGroupToSimplifiedGroup(cardsGroupID, cardsGroups))\n        ))\n    }\n}\n","import {ICard} from '../../../types/ICard';\nimport {ICardsGroup} from '../../../types/ICardsGroup';\n\nexport const saveCard = (cardsGroupID: number, card: ICard, cardsGroups: ICardsGroup[]) => {\n        const cardGroupIndex = cardsGroups.findIndex((cardGroup: ICardsGroup) => cardsGroupID === cardGroup.id);\n        let cardIndex = -1;\n\n        if (cardGroupIndex >= 0) {\n            cardIndex = cardsGroups[cardGroupIndex].cards.findIndex((item: ICard) => card.id === item.id)\n        }\n\n        if (cardGroupIndex >= 0 && cardIndex < 0) {\n            cardsGroups[cardGroupIndex].cards.push(card);\n        } else if (cardGroupIndex >= 0 && cardIndex >= 0) {\n            cardsGroups[cardGroupIndex].cards[cardIndex] = card;\n        }\n\n        return cardsGroups;\n};\n","import {ICardsGroup} from '../../../types/ICardsGroup';\nimport {ICard} from '../../../types/ICard';\nimport {IRangeOfKnowledge} from '../../../types/IRangeOfKnowledge';\n\nexport const getEditingCard = (cardsGroupID: number, cardID: number, cardsGroups: ICardsGroup[]) => {\n\n        let cardsGroup = cardsGroups.find((cardGroup: ICardsGroup) => cardsGroupID === cardGroup.id);\n        let card: ICard | undefined = {\n            rangeOfKnowledge: IRangeOfKnowledge.TO_DO,\n            answer: '',\n            question: '',\n            dateRepeating: 0,\n            id: new Date().getTime()\n        };\n\n        if (cardsGroup) {\n            card = cardsGroup.cards.find((card: ICard) => card.id === cardID)\n        }\n\n        return card;\n};\n","import {ICardsGroup} from '../../../types/ICardsGroup';\nimport {ISimplifiedCardsGroup} from '../../../types/ISimplifiedCardsGroup';\n\nexport const getSimplifiedGroup = (cardsGroups: ICardsGroup[]): ISimplifiedCardsGroup[] => {\n\n        return cardsGroups.map((cardsGroup: ICardsGroup): ISimplifiedCardsGroup => {\n            return {\n                id: cardsGroup.id,\n                nameCardsGroup: cardsGroup.nameCardsGroup\n            }\n        });\n};\n","import {ISimplifiedCardsGroup} from '../../../types/ISimplifiedCardsGroup';\n\nexport const addCurrentGroupToSimplifiedGroup = (cardsGroupID: number, cardsGroups: ISimplifiedCardsGroup[]) => {\n    let currentCardsGroup = cardsGroups.find((cardGroup: ISimplifiedCardsGroup) => cardsGroupID === cardGroup.id);\n\n    return {\n        currentCardsGroup,\n        cardsGroups\n    }\n};\n","import {map, tap} from 'rxjs/operators';\n\nimport {ICard} from '../../types/ICard';\nimport {StorageService} from '../../common/services/StorageService';\nimport {ICardsGroup} from '../../types/ICardsGroup';\nimport {Channel} from '../../../MyTools/channel-conception/Channel';\nimport {getCardsByGroup} from './logic/getCardsByGroup';\nimport {resetCardProgress} from './logic/resetCardProgress';\nimport {deleteCard} from './logic/deleteCard';\nimport {filterCards} from \"./logic/filterCards\";\nimport {IFilter} from \"../../types/IFilter\";\n\nexport class CardsListService {\n    public cardsChannel: Channel<{cardsGroupID: number, filter: IFilter}, ICard[]>;\n    public resetCardProgressChannel: Channel<{cardID: number, cardsGroupID: number}, ICardsGroup[]>;\n    public deleteCardChannel: Channel<{cardID: number, cardsGroupID: number}, ICardsGroup[]>;\n\n    constructor(private storageService: StorageService) {\n        this.cardsChannel = new Channel(({ cardsGroupID, filter}) => this.storageService.getBackup().pipe(\n            map((cardsGroups: ICardsGroup[]) => getCardsByGroup(cardsGroupID, cardsGroups)),\n            map((cards: ICard[]) => filterCards(cards, filter)))\n        );\n\n        this.resetCardProgressChannel = new Channel(({cardID, cardsGroupID}) => storageService.getBackup().pipe(\n            map((cardsGroups: ICardsGroup[]) => resetCardProgress(cardsGroupID, cardID, cardsGroups)),\n            tap((cardsGroups: ICardsGroup[]) => {\n                storageService.setBackup(cardsGroups);\n            })\n        ));\n\n        this.deleteCardChannel = new Channel(({cardID, cardsGroupID}) => storageService.getBackup().pipe(\n            map((cardsGroups: ICardsGroup[]) => deleteCard(cardsGroupID, cardID, cardsGroups)),\n            tap((cardsGroups: ICardsGroup[]) => {\n                storageService.setBackup(cardsGroups);\n            })\n        ));\n    }\n}\n","import {ICardsGroup} from '../../../types/ICardsGroup';\n\nexport const getCardsByGroup = (cardsGroupID: number, cardsGroups: ICardsGroup[]) => {\n    const foundCardsGroup = cardsGroups.find((cardsGroup: ICardsGroup) => {\n        return cardsGroup.id === cardsGroupID;\n    });\n\n    return foundCardsGroup ? foundCardsGroup.cards : [];\n};\n","import {ICard} from \"../../../types/ICard\";\nimport {IFilter} from \"../../../types/IFilter\";\nimport {ISortVariants} from \"../../../types/ISortVariants\";\n\nexport const filterCards = (cards: ICard[], filter: IFilter) => {\n    const foundByTextCards = cards.filter((card: ICard) => {\n        return card.question.toLowerCase().indexOf(filter.searchableText.toLowerCase()) > -1 ||\n            card.answer.toLowerCase().indexOf(filter.searchableText.toLowerCase()) > -1\n    })\n\n    let sortedCards = []\n\n    if(filter.sort === ISortVariants.QUESTION_DESK) {\n        sortedCards = foundByTextCards.sort((card1: ICard, card2: ICard) => {\n            if(card1.question === card2.question) {\n                return 0\n            } else if(card1.question > card2.question) {\n                return 1\n            } else {\n                return -1\n            }\n        })\n\n        return sortedCards;\n    } else if(filter.sort === ISortVariants.QUESTION_ASK) {\n        sortedCards = foundByTextCards.sort((card1: ICard, card2: ICard) => {\n            if(card1.question === card2.question) {\n                return 0\n            } else if(card1.question > card2.question) {\n                return -1\n            } else {\n                return 1\n            }\n        })\n        return sortedCards;\n    } else if(filter.sort === ISortVariants.STATUS_ASK) {\n        sortedCards = foundByTextCards.sort((card1: ICard, card2: ICard) => {\n            if(card1.rangeOfKnowledge === card2.rangeOfKnowledge) {\n                return 0\n            } else if(card1.rangeOfKnowledge > card2.rangeOfKnowledge) {\n                return -1\n            } else {\n                return 1\n            }\n        })\n        return sortedCards;\n    } else if(filter.sort === ISortVariants.STATUS_DESK) {\n        sortedCards = foundByTextCards.sort((card1: ICard, card2: ICard) => {\n            if(card1.rangeOfKnowledge === card2.rangeOfKnowledge) {\n                return 0\n            } else if(card1.rangeOfKnowledge > card2.rangeOfKnowledge) {\n                return 1\n            } else {\n                return -1\n            }\n        })\n        return sortedCards;\n    }\n\n    return foundByTextCards\n}","import {ICardsGroup} from '../../../types/ICardsGroup';\nimport {ICard} from '../../../types/ICard';\nimport {IRangeOfKnowledge} from '../../../types/IRangeOfKnowledge';\n\nexport const resetCardProgress = (cardsGroupID: number, cardID: number, cardsGroups: ICardsGroup[]) => {\n    const cardGroupIndex = cardsGroups.findIndex((cardGroup: ICardsGroup) => cardsGroupID === cardGroup.id);\n    let cardIndex = -1;\n\n    if (cardGroupIndex >= 0) {\n        cardIndex = cardsGroups[cardGroupIndex].cards.findIndex((item: ICard) => cardID === item.id)\n    }\n\n    if (cardGroupIndex >= 0 && cardIndex >= 0) {\n        cardsGroups[cardGroupIndex].cards[cardIndex].rangeOfKnowledge = IRangeOfKnowledge.TO_DO;\n    }\n\n    return cardsGroups;\n};\n","import {ICardsGroup} from '../../../types/ICardsGroup';\nimport {ICard} from '../../../types/ICard';\n\nexport const deleteCard = (cardsGroupID: number, cardID: number, cardsGroups: ICardsGroup[]) => {\n    const cardGroupIndex = cardsGroups.findIndex((cardGroup: ICardsGroup) => cardsGroupID === cardGroup.id);\n    let cardIndex = -1;\n\n    if (cardGroupIndex >= 0) {\n        cardIndex = cardsGroups[cardGroupIndex].cards.findIndex((item: ICard) => cardID === item.id)\n    }\n\n    if (cardGroupIndex >= 0 && cardIndex >= 0) {\n        cardsGroups[cardGroupIndex].cards = cardsGroups[cardGroupIndex].cards.filter((card: ICard) => card.id !== cardID);\n    }\n\n    return cardsGroups;\n};\n","import {of} from 'rxjs';\nimport {map, switchMap, tap} from 'rxjs/operators';\n\nimport {ICard} from '../../types/ICard';\nimport {StorageService} from '../../common/services/StorageService';\nimport {ICardsGroup} from '../../types/ICardsGroup';\nimport {IRepeatingArgs} from '../../types/IRepeatingArgs';\nimport {Channel} from '../../../MyTools/channel-conception/Channel';\nimport {IStatistic} from '../../types/IStatistic';\nimport {ISettings} from '../../types/ISettings';\nimport {getCardsByGroupID} from './logic/getCardsByGroupID';\nimport {changeRangeOfKnowledge} from '../../common/logic/changeRangeOfKnowledge';\nimport {getCardForRepeating} from './logic/getCardForRepeating';\nimport {getStatistic} from './logic/getStatistic';\nimport {shuffleCards} from './logic/shuffleCards';\nimport {getFirstCard} from './logic/getFirstCard';\n\nexport class CardsRepeaterService {\n    public currentCardChannel: Channel<number | null, ICard | null>;\n    public cardChannel: Channel<number, ICard | undefined>;\n    public repeatingResultChannel: Channel<IRepeatingArgs, ICardsGroup[]>;\n    public statisticChannel: Channel<string, IStatistic>;\n\n    private statisticValue = {\n        inProgress: 0,\n        todo: 0,\n        done: 0\n    };\n\n    constructor(private storageService: StorageService) {\n        this.cardChannel = new Channel((cardsGroupID = -1) => this.storageService.getBackup().pipe(\n            map((cardsGroups: ICardsGroup[]) => getCardsByGroupID(cardsGroups, cardsGroupID)),\n            switchMap((cards: ICard[]) => this.storageService.getSettings().pipe(\n                map((settings: ISettings) => {\n                    if (settings.isRandomRepeating) {\n                        cards = shuffleCards(cards);\n                    }\n                    return {\n                        cards,\n                        isRundomRepeating: settings.isRandomRepeating\n                    };\n                })\n            )),\n            tap(({cards, isRundomRepeating}) => {\n                this.statisticValue = getStatistic(cards);\n            }),\n            map(({cards, isRundomRepeating}) => {\n                return getCardForRepeating(cards, isRundomRepeating)\n            })\n        ));\n\n        this.repeatingResultChannel = new Channel((args: IRepeatingArgs) => {\n            return this.storageService.getBackup().pipe(\n                map((cardsGroups: ICardsGroup[]) => changeRangeOfKnowledge(args, cardsGroups)),\n                switchMap((cardsGroups: ICardsGroup[]) => this.storageService.setBackup(cardsGroups))\n            );\n        });\n\n        this.currentCardChannel = new Channel((cardsGroupID = null) => this.storageService.getBackup().pipe(\n            map((cardsGroups: ICardsGroup[]) => getCardsByGroupID(cardsGroups, cardsGroupID)),\n            map((cardsGroups: ICard[]) => getFirstCard(cardsGroups))\n        ));\n\n        this.statisticChannel = new Channel(() => of(this.statisticValue));\n    }\n}\n","import {of} from 'rxjs';\n\nimport {StorageService} from '../../common/services/StorageService';\nimport {ICardsGroup} from '../../types/ICardsGroup';\nimport {Channel} from '../../../MyTools/channel-conception/Channel';\nimport {switchMap, tap} from 'rxjs/operators';\nimport {saveBackupFile} from './logic/saveBackupFile';\n\nexport class LocalBackupsService {\n\n    public localBackupChannel: Channel<void, ICardsGroup[]>;\n    public loadBackupChannel: Channel<string, ICardsGroup[]>;\n\n    constructor(private storageService: StorageService) {\n        this.localBackupChannel = new Channel(() => this.storageService.getBackup().pipe(\n            tap((backup: ICardsGroup[]) => saveBackupFile(backup))\n        ));\n\n        this.loadBackupChannel = new Channel((backupFile: string) => of('').pipe(\n            switchMap(() => {\n                return this.storageService.setBackup(JSON.parse(backupFile));\n            })\n        ));\n    }\n}\n","import {ICardsGroup} from '../../../types/ICardsGroup';\n\nexport const saveBackupFile = (backup: ICardsGroup[]) => {\n    const fileData: string = JSON.stringify(backup, null, 4);\n    const blob = new Blob([fileData], {type: \"octet/stream\"});\n    const url = window.URL.createObjectURL(blob);\n\n    const fileBuffer = document.createElement('a');\n\n    if (fileBuffer) {\n        fileBuffer.href = url;\n        fileBuffer.download = 'My Cards.txt';\n        fileBuffer.click();\n    }\n    window.URL.revokeObjectURL(url);\n};\n","import {StorageService} from '../../common/services/StorageService';\nimport {Channel} from '../../../MyTools/channel-conception/Channel';\nimport {ISettings} from '../../types/ISettings';\n\nexport class SettingsService {\n\n    public settingsChannel: Channel<string, ISettings>;\n\n    public changeSettingsChannel: Channel<ISettings, ISettings>;\n\n    constructor(storageService: StorageService) {\n\n        this.settingsChannel = new Channel(() => storageService.getSettings());\n\n        this.changeSettingsChannel = new Channel(\n            (settings: ISettings) => storageService.setSettings(settings)\n        );\n    }\n}\n","import {map, switchMap} from 'rxjs/operators';\n\nimport {ICard} from '../../types/ICard';\nimport {StorageService} from '../../common/services/StorageService';\nimport {ICardsGroup} from '../../types/ICardsGroup';\nimport {IRepeatingArgs} from '../../types/IRepeatingArgs';\nimport {Channel} from '../../../MyTools/channel-conception/Channel';\nimport {changeRangeOfKnowledge} from '../../common/logic/changeRangeOfKnowledge';\nimport {getCardForViewing} from \"./logic/getCardForViewing\";\n\nexport class CardViewerService {\n    public cardChannel: Channel<number, ICard | undefined>;\n    public repeatingResultChannel: Channel<IRepeatingArgs, ICardsGroup[]>;\n\n    constructor(private storageService: StorageService) {\n        this.cardChannel = new Channel((cardID = -1) => this.storageService.getBackup().pipe(\n            map((cardsGroups: ICardsGroup[]) => getCardForViewing(cardsGroups, cardID))\n        ));\n\n        this.repeatingResultChannel = new Channel((args: IRepeatingArgs) => {\n            return this.storageService.getBackup().pipe(\n                map((cardsGroups: ICardsGroup[]) => changeRangeOfKnowledge(args, cardsGroups)),\n                switchMap((cardsGroups: ICardsGroup[]) => this.storageService.setBackup(cardsGroups))\n            );\n        });\n    }\n}\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <App/>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}